<!DOCTYPE html>
<html lang="fr">
<head>
  <!-- M√©tadonn√©es de base -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>6e (avec renfort CM2) ‚Äì Num√©ration & D√©cimaux ‚Ä¢ Page interactive</title>

  <!-- Styles internes (th√®me sombre, boutons anim√©s, lisibilit√© √©lev√©e) -->
  <style>
          /* Masquer les solutions par d√©faut, on les r√©v√®lera au clic */
    .correction { display: none; }

    
    :root {
      --bg: #0f1116;
      --panel: #151922;
      --muted: #98a2b3;
      --text: #e6ebef;
      --accent: #7dd3fc;
      --accent-2: #34d399;
      --accent-3: #f59e0b;
      --danger: #f87171;
      --shadow: rgba(0,0,0,0.45);
    }

    /* Image responsive g√©n√©rique */
    img.responsive-img {
      max-width: 100%;
      height: auto;
      display: block;
      margin: 0 auto;           /* centre l'image */
    }
    
    /* Pour les conteneurs d'illustrations d'exercices */
    .img-wrap {
      width: 100%;
      overflow: hidden;          /* √©vite les d√©bordements horizontaux */
    }
    .img-wrap > img {
      max-width: 100%;
      height: auto;
      display: block;
    }

        /* Images responsives partout (rappel de cours, F, G, H) */
    .img-wrap { width: 100%; overflow: hidden; }
    .img-wrap > img, img.responsive-img { max-width: 100%; height: auto; display: block; margin: 0 auto; }
    
    /* Cache les corrections par d√©faut (on togglera au clic) */
    .correction { display: none; }
    
    /* Drag & drop Ex.1 (lisible) */
    .dropzone { border: 1px dashed #325e8f; border-radius: 10px; padding: 10px; min-height: 56px; }
    .dropzone.dragover { background: rgba(50,94,143,.15); }
    .chip { cursor: grab; user-select: none; background:#1e3350; border:1px solid #284a72; border-radius:10px; padding:8px 10px; }


    body {
      background-color: #1e1e1e; /* Fond sombre */
      color: #f0f0f0;            /* Texte clair */
      font-family: 'Segoe UI', sans-serif;
      line-height: 1.6;
    }
    
    h3 {
      color: #ffd700; /* Jaune dor√© pour les titres */
      margin-bottom: 0.5em;
    }
    
    ul {
      padding-left: 1.2em;
    }
    
    li {
      margin-bottom: 0.5em;
    }
    
    a {
      color: #00bfff; /* Bleu clair pour les liens */
      text-decoration: underline;
      font-weight: bold;
    }
    
    a:hover {
      color: #ff69b4; /* Rose au survol */
    }
    
    iframe {
      margin-top: 1em;
      border: 2px solid #00bfff;
      border-radius: 8px;
    }
    
    .aide {
      background-color: #333;
      color: #ffd700;
      padding: 0.8em;
      margin: 0.5em 0;
      border-left: 4px solid #00bfff;
      border-radius: 6px;
      font-size: 0.95em;
    }
    
    li[title] {
      cursor: help;
      position: relative;
    }
    
    li[title]:hover::after {
      content: attr(title);
      position: absolute;
      left: 1em;
      top: 100%;
      background: #222;
      color: #fff;
      padding: 0.5em;
      border-radius: 4px;
      white-space: nowrap;
      font-size: 0.85em;
      z-index: 10;
    }


    
    
    * { box-sizing: border-box; }
    html, body { margin: 0; padding: 0; background: var(--bg); color: var(--text); font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans"; }
    .wrap { max-width: 1100px; margin: 24px auto; padding: 16px; }
    header { display: grid; gap: 8px; margin-bottom: 16px; }
    h1 { margin: 0; font-size: clamp(22px, 3.5vw, 36px); letter-spacing: 0.2px; }
    p.lead { margin: 0; color: var(--muted); }
    .card { background: var(--panel); border: 1px solid #1e2633; border-radius: 16px; padding: 16px; box-shadow: 0 10px 24px var(--shadow); }
    .card + .card { margin-top: 16px; }
    .grid { display: grid; gap: 12px; }
    .grid-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
    .grid-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
    @media (max-width: 860px) { .grid-2, .grid-3 { grid-template-columns: 1fr; } }
    label { display: block; font-weight: 600; margin-bottom: 6px; }
    input[type="text"], input[type="number"], select, textarea { width: 100%; padding: 10px 12px; background: #0b0e14; border: 1px solid #263247; color: var(--text); border-radius: 12px; outline: none; box-shadow: inset 0 1px 0 rgba(255,255,255,0.02); }
    input::placeholder { color: #6b7280; }
    .btn { display: inline-flex; align-items: center; gap: 8px; padding: 10px 14px; border-radius: 12px; border: 1px solid #1e293b; color: var(--text); background: linear-gradient(180deg, #1f2937, #111827); cursor: pointer; transition: transform .08s ease, box-shadow .2s ease, filter .2s ease; text-decoration: none; }
    .btn:hover { transform: translateY(-1px); box-shadow: 0 10px 20px var(--shadow); filter: brightness(1.06); }
    .btn:disabled { opacity: .55; cursor: not-allowed; }
    .btn-accent { background: linear-gradient(180deg, #0ea5e9, #0369a1); border-color: #0ea5e9; }
    .btn-green  { background: linear-gradient(180deg, #10b981, #065f46); border-color: #10b981; }
    .btn-orange { background: linear-gradient(180deg, #f59e0b, #b45309); border-color: #f59e0b; }
    @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(125, 211, 252, 0.5); } 70% { box-shadow: 0 0 0 16px rgba(125, 211, 252, 0); } 100% { box-shadow: 0 0 0 0 rgba(125, 211, 252, 0); } }
    .btn-correction { position: relative; animation: pulse 2s infinite; }
    h2 { margin: 0 0 8px; font-size: clamp(18px, 2.4vw, 26px); }
    h3 { margin: 0 0 8px; font-size: 18px; color: var(--accent); }
    .badge { display: inline-block; padding: 4px 8px; border-radius: 999px; border: 1px solid #1f2937; background: #0b0f17; color: var(--muted); font-size: 12px; }
    details { background: #0b0f17; border: 1px solid #1f2937; border-radius: 12px; padding: 10px 12px; }
    details[open] { border-color: #334155; }
    summary { cursor: pointer; color: var(--accent-3); font-weight: 600; }
    .assoc { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
    .assoc-col { background: #0b0e14; border: 1px dashed #2b3a55; border-radius: 12px; padding: 12px; min-height: 220px; }
    .chip { background: #111827; border: 1px solid #334155; border-radius: 10px; padding: 8px 10px; margin: 6px 0; display: flex; align-items: center; justify-content: space-between; gap: 8px; }
    .chip.dragging { opacity: .6; }
    .dropzone { background: #0c1018; border: 1px dashed #334155; border-radius: 10px; padding: 8px; min-height: 44px; display: flex; flex-direction: column; align-items: stretch; gap: 8px; margin: 6px 0; }
    .target-label { color: var(--muted); font-size: 14px; }
    .slot { background: #0b0e14; border: 1px dashed #2b3a55; border-radius: 8px; min-height: 36px; padding: 6px; display: flex; align-items: center; gap: 8px; }
    table { width: 100%; border-collapse: collapse; }
    th, td { border: 1px solid #223049; padding: 8px; text-align: left; }
    th { background: #0b0e14; color: var(--accent); }
    .toast { position: fixed; right: 16px; bottom: 16px; background: #0b0f17; border: 1px solid #1f2937; padding: 10px 14px; border-radius: 12px; box-shadow: 0 10px 24px var(--shadow); display: none; }
    .info { display: flex; flex-wrap: wrap; gap: 10px; align-items: center; }
    .info strong { color: var(--accent); }
    a.link { color: var(--accent); text-decoration: none; border-bottom: 1px dashed #334155; }
    a.link:hover { filter: brightness(1.1); }
  </style>
  <style media="print">
    body * { visibility: hidden !important; }
    #printSummary, #printSummary * { visibility: visible !important; }
    #printSummary { position:absolute; inset:0; background:#fff; color:#000; padding:24px; }
    #printSummary h1, #printSummary h2 { color:#000; margin:0 0 8px; }
    #printSummary table { width:100%; border-collapse:collapse; }
    #printSummary th, #printSummary td { border:1px solid #000; padding:6px 8px; text-align:left; }
  </style>
</head>
<body>
  <div class="wrap">
    <header class="card">
      <div class="info">
        <h1>Num√©ration & D√©cimaux ‚Äì 6<sup>e</sup> (avec renfort CM2)</h1>
        <span class="badge">Th√®me : Cours + Exercices + √âvaluation</span>
      </div>
      <p class="lead">Saisis ton identit√©, lance le chrono et r√©ponds aux questions. Tu disposes de <strong id="maxTries">5</strong> essais par exercice. √Ä la fin, enregistre tes r√©ponses.</p>
      <div class="grid grid-3">
        <div>
          <label for="eleveNom">Nom</label>
          <input id="eleveNom" type="text" placeholder="DUPONT" />
        </div>
        <div>
          <label for="elevePrenom">Pr√©nom</label>
          <input id="elevePrenom" type="text" placeholder="Camille" />
        </div>
        <div>
          <label for="eleveClasse">Classe</label>
          <input id="eleveClasse" type="text" placeholder="6e A" />
        </div>
      </div>
      <div class="info" style="margin-top:10px;">
          <button id="btnStart" class="btn btn-accent" type="button">‚ñ∂ D√©marrer le chrono</button>
          <button id="btnStop"  class="btn btn-orange" type="button" disabled>‚è∏ Arr√™ter</button>
          <button id="btnReset" class="btn" type="button">üîÅ R√©initialiser</button>
          <span class="badge">‚è± Temps¬†: <strong id="timer">00:00</strong></span>
          <span class="badge">Score total¬†: <strong id="totalScore">0</strong>¬†/¬†<span id="totalMax">0</span></span>
      </div>
    </header>

    <section class="card">
      <h2>Rappel de cours</h2>
      <details open>
        <summary>Voir/masquer le rappel</summary>
        <div style="margin-top:8px;" class="grid grid-2">
          <div>
            <h3>Lire et √©crire les grands nombres</h3>
            <ul>
              <li>On regroupe les chiffres par <strong>classes</strong> de trois : unit√©s, milliers, millions, milliards, billions, billiards, trillions, trilliards, quadrillions, quadrilliards, etc.</li>
              <li>On espace les classes : exemple <code>68 956</code> ; on <strong>supprime les z√©ros inutiles</strong>.</li>
              <section id="regles-nombres">
  <h3>üìè Comment bien √©crire les grands nombres</h3>

  <ol>
    <li>
      <strong>1. On espace les classes pour mieux lire</strong><br>
      <p>Quand un nombre est grand, on le s√©pare en groupes de 3 chiffres, en partant de la droite.</p>
      <p><em>Exemples :</em></p>
      <ul>
        <li>Au lieu de <code>68956</code>, on √©crit <strong>68‚ÄØ956</strong></li>
        <li>Au lieu de <code>4490000000</code>, on √©crit <strong>4‚ÄØ490‚ÄØ000‚ÄØ000</strong></li>
      </ul>
      <p>üëâ Cela permet de rep√©rer les milliers, millions, milliards plus facilement.</p>
    </li>

          <li>
            <strong>2. On supprime les z√©ros inutiles</strong><br>
            <p>On enl√®ve les z√©ros qui ne changent rien au d√©but ou √† la fin du nombre.</p>
            <p><em>Exemples :</em></p>
            <ul>
              <li><code>004880</code> devient <strong>4‚ÄØ880</strong></li>
              <li><code>7800000000</code> devient <strong>7‚ÄØ800‚ÄØ000‚ÄØ000</strong> si c‚Äôest exactement 7,8 milliards</li>
            </ul>
            <p>‚ö†Ô∏è On ne touche pas aux z√©ros √† l‚Äôint√©rieur du nombre, ils sont importants !</p>
          </li>
        </ol>
      
        <details style="margin-top:8px;">
          <summary>üí° Astuce</summary>
          <p>Utilise ton doigt ou une r√®gle pour rep√©rer les groupes de 3 chiffres. C‚Äôest comme d√©couper le nombre en morceaux lisibles.</p>
        </details>
      </section>


              
              <li>√âcriture en lettres : respecter les traits d'union (ex. <em>quatre-vingt-dix-neuf-mille-neuf-cent-neuf</em>).</li>
            </ul>
          </div>
          <div>
            <h3>D√©cimaux & abscisses</h3>
            <ul>
              <li>Sur une demi-droite gradu√©e, on pr√©cise l'<strong>origine</strong> (O) et l'<strong>unit√©</strong> (ex. 1 ou 0,1).</li>
              <div class="img-wrap">
                 <img  id="img-exG1" class="responsive-img" 
                       src="../images/unite-de-graduation-demi-droite-graduee.jpg" 
                       alt="Demi-droite gradu√©e avec unit√© de graduation, points C et D">
              </div>

              <li>Un point est rep√©r√© par son <strong>abscisse</strong>. <br>Son <strong>abscisse</strong> indique sa position sur la droite horizontale (<strong>axe des x</strong>).</li>
              <div class="img-wrap">
                 <img   id="img-exG2" class="responsive-img"
                        src="../images/unite-de-graduation-demi-droite-graduee 3.jpg" 
                        alt="demi droite gradu√©e au 10e et au 100e">
              </div>  
              <li>Entre <code>4,6</code> et <code>4,7</code> avec pas 0,01 ‚Üí <strong>10 sous-intervalles</strong>.</li>
              <div class="img-wrap">
                 <img  id="img-exG3" class="responsive-img"
                       src="../images/demi droite gradu√©e 10 sous-intervalles.png" 
                       alt="demi droite gradu√©e 10 sous-intervalles">
              </div>
            </ul>
          </div>
        </div>
      </details>
    </section>

    <section id="ex1" class="card" data-max="6">
      <div class="info">
        <h2>Exercice 1 ‚Äì Associer le nombre √† son √©criture en lettres</h2>
        <span class="badge">Objectif : Lire/√©crire des grands nombres</span>
        <span class="badge">Essais restants : <strong id="tries-ex1">5</strong></span>
        <span class="badge">Score : <strong id="score-ex1">0</strong>/6</span>
      </div>
      <p class="lead">Glisse chaque <strong>nombre</strong> (colonne gauche) sur son <strong>√©criture en lettres</strong> (colonne droite).</p>
      <!-- Colonne gauche -->
      <div class="assoc">
        <div class="assoc-col" id="ex1-left">
          <div class="chip" draggable="true" data-id="n1">2 584</div>
          <div class="chip" draggable="true" data-id="n2">2 508</div>
          <div class="chip" draggable="true" data-id="n3">4 187</div>
          <div class="chip" draggable="true" data-id="n4">3 339</div>
          <div class="chip" draggable="true" data-id="n5">4 087</div>
          <div class="chip" draggable="true" data-id="n6">3 039</div>
        </div>
        <!-- Colonne droite -->
        <div class="assoc-col" id="ex1-right">
          <div class="dropzone" data-accept="n1"><span class="target-label">deux-mille-cinq-cent-quatre-vingt-quatre</span><div class="slot"></div></div>
          <div class="dropzone" data-accept="n2"><span class="target-label">deux-mille-cinq-cent-huit</span><div class="slot"></div></div>
          <div class="dropzone" data-accept="n3"><span class="target-label">quatre-mille-cent-quatre-vingt-sept</span><div class="slot"></div></div>
          <div class="dropzone" data-accept="n4"><span class="target-label">trois-mille-trois-cent-trente-neuf</span><div class="slot"></div></div>
          <div class="dropzone" data-accept="n5"><span class="target-label">quatre-mille-quatre-vingt-sept</span><div class="slot"></div></div>
          <div class="dropzone" data-accept="n6"><span class="target-label">trois-mille-trente-neuf</span><div class="slot"></div></div>
        </div>
      </div>
      <details style="margin-top:10px;"><summary>üí° Aide</summary>
        <ul>
          <li>On regroupe les chiffres par <strong>classes</strong> (unit√©s, milliers‚Ä¶) pour mieux lire les grands nombres : 3 039 = <em>trois-mille-trente-neuf</em>.</li>
          <li>Rep√®re les centaines : 4 187 = 4 000 + 100 + 80 + 7.</li>
          <div class="decomposition">
                <h2>üßÆ D√©composition p√©dagogique du nombre 4187</h2>
              
                <p>Le nombre <strong>4 187</strong> est compos√© de <strong>4 chiffres</strong>.</p>
                <p>Chaque chiffre a une valeur selon sa <strong>position</strong> dans le nombre :</p>
              
                <ul>
                  <li>Le <strong>4</strong> est dans la <em>classe des milliers</em> ‚Üí il vaut <strong>4 000</strong></li>
                  <li>Le <strong>1</strong> est dans la <em>classe des centaines</em> ‚Üí il vaut <strong>100</strong></li>
                  <li>Le <strong>8</strong> est dans la <em>classe des dizaines</em> ‚Üí il vaut <strong>80</strong></li>
                  <li>Le <strong>7</strong> est dans la <em>classe des unit√©s</em> ‚Üí il vaut <strong>7</strong></li>
                </ul>
              
                <p>üëâ Donc : <strong>4 187 = 4 000 + 100 + 80 + 7</strong></p>
          </div>

        </ul>
      </details>
      <div class="info" style="margin-top:10px;">
        <button class="btn btn-green" type="button" onclick="corrigerEx1(false)">‚úÖ V√©rifier</button>
        <button id="btn-corr-ex1" class="btn btn-accent btn-correction" type="button" onclick="corrigerEx1(true)">üß† Correction</button>
        <button class="btn" type="button" onclick="reinitialiserEx1()">üîÅ Recommencer</button>
      </div>
      <p id="msg-ex1" class="lead" style="margin-top:6px;"></p>
    </section>

    <section id="ex2" class="card" data-max="6">
      <div class="info">
        <h2>Exercice 2 ‚Äì Saisies rapides</h2>
        <span class="badge">Objectif : √âcrire en lettres / chiffres / rep√©rer une position</span>
        <span class="badge">Essais restants : <strong id="tries-ex2">5</strong></span>
        <span class="badge">Score : <strong id="score-ex2">0</strong>/6</span>
      </div>
      <div class="grid grid-2">
        <div>
          <label for="q21">√âcrire en lettres : <strong>15 084</strong></label>
          <input id="q21" type="text" placeholder="r√©ponse en toutes lettres" />
        </div>
        <div>
          <label for="q22">√âcrire en chiffres : <em>quatre-vingt-dix-neuf mille neuf cent neuf</em></label>
          <input id="q22" type="text" placeholder="r√©ponse en chiffres" />
        </div>
        <div>
          <label for="q23">Dans <strong>8 910 052</strong>, quel est le <em>chiffre des dizaines</em> ?</label>
          <input id="q23" type="number" inputmode="numeric" placeholder="0-9" />
        </div>
        <div>
          <label for="q24">Recopier correctement : <code>001263</code></label>
          <input id="q24" type="text" placeholder="sans z√©ros inutiles" />
        </div>
        <div>
          <label for="q25">√âcrire en lettres : <strong>3 620</strong></label>
          <input id="q25" type="text" placeholder="r√©ponse en toutes lettres" />
        </div>
        <div>
          <label for="q26">√âcrire en chiffres : <em>trois millions sept cent mille</em></label>
          <input id="q26" type="text" placeholder="r√©ponse en chiffres" />
        </div>
      </div>
      <details style="margin-top:10px;"><summary>üí° Aide</summary>
        <ul>
          <li>Pense aux espaces entre les <strong>classes</strong> (unit√©s / milliers / millions).</li>
          <li>Les <em>z√©ros non significatifs</em> en t√™te s'enl√®vent : <code>001263 ‚Üí 1 263</code>.</li>
        </ul>
      </details>
      <div class="info" style="margin-top:10px;">
        <button class="btn btn-green" type="button" onclick="corrigerEx2(false)">‚úÖ V√©rifier</button>
        <button id="btn-corr-ex2" class="btn btn-accent btn-correction" type="button" onclick="corrigerEx2(true)">üß† Correction</button>
        <button class="btn" type="button" onclick="reinitialiserEx2()">üîÅ Recommencer</button>
      </div>
      <p id="msg-ex2" class="lead" style="margin-top:6px;"></p>
    </section>

    <section id="ex3" class="card" data-max="4">
      <div class="info">
        <h2>Exercice 3 ‚Äì D√©cimaux & rep√©rage</h2>
        <span class="badge">Objectif : Comprendre les graduations et abscisses</span>
        <span class="badge">Essais restants : <strong id="tries-ex3">5</strong></span>
        <span class="badge">Score : <strong id="score-ex3">0</strong>/4</span>
      </div>
      <div class="grid grid-2">
        <div>
          <label for="q31">Entre 4,2 et 4,3 avec un pas de 0,01 : combien de sous-intervalles ?</label>
          <input id="q31" type="number" inputmode="numeric" placeholder="nombre" />
        </div>
        <div>
          <label for="q32">Sur une demi-droite gradu√©e, comment s'appelle le point de d√©part ?</label>
          <input id="q32" type="text" placeholder="r√©ponse (un mot)" />
        </div>
        <div>
          <label for="q33">Le nombre qui rep√®re un point s'appelle son ... ?</label>
          <input id="q33" type="text" placeholder="r√©ponse (un mot)" />
        </div>
        <div>
          <label for="q34">Si l'unit√© vaut 1, quelle est l'abscisse du point au milieu entre 0 et 1 ?</label>
          <input id="q34" type="text" placeholder="r√©ponse (ex. 0,2)" />
        </div>
      </div>
      <details style="margin-top:10px;"><summary>üí° Aide</summary>
        <ul>
          <li>V√©rifie l'<strong>unit√©</strong> de graduation avant de compter les petits traits.</li>
          <li>Le milieu entre 0 et 1 avec unit√© 1 est la <em>moiti√©</em>.</li>
        </ul>
      </details>
      <div class="info" style="margin-top:10px;">
        <button class="btn btn-green" type="button" onclick="corrigerEx3(false)">‚úÖ V√©rifier</button>
        <button id="btn-corr-ex3" class="btn btn-accent btn-correction" type="button" onclick="corrigerEx3(true)">üß† Correction</button>
        <button class="btn" type="button" onclick="reinitialiserEx3()">üîÅ Recommencer</button>
      </div>
      <p id="msg-ex3" class="lead" style="margin-top:6px;"></p>
    </section>

    <!-- ========================= -->
    <!-- APPROFONDISSEMENT        -->
    <!-- ========================= -->
    <section id="approfondissement" class="card" data-max="24">
      <div class="info">
        <h2>Approfondissement ‚Äì Exercices</h2>
        <span class="badge">Essais restants : <strong id="tries-deep">5</strong></span>
        <span class="badge">Score : <strong id="score-deep">0</strong>/24</span>
      </div>

      <!-- EXERCICE A : Plan√®tes -->

   <h3>ü™ê Ex. A ‚Äì Les plan√®tes du syst√®me solaire</h3>

<section id="exA" data-ex="A" data-max="6">
  <p>Voici un tableau donnant le diam√®tre des plan√®tes et leur distance au Soleil :</p>

  <div class="grid grid-2">
    <div>
      <table>
        <thead>
          <tr>
            <th>Plan√®te</th>
            <th>Diam√®tre (km)</th>
            <th>Distance au Soleil (km)</th>
          </tr>
        </thead>
        <tbody>
          <tr><td>Uranus</td><td>50 800</td><td>2 869 000 000</td></tr>
          <tr><td>Mercure</td><td>4 880</td><td>57 900 000</td></tr>
          <tr><td>Jupiter</td><td>140 000</td><td>778 300 000</td></tr>
          <tr><td>Terre</td><td>12 750</td><td>149 600 000</td></tr>
          <tr><td>V√©nus</td><td>12 100</td><td>108 200 000</td></tr>
          <tr><td>Saturne</td><td>120 600</td><td>1 427 000 000</td></tr>
          <tr><td>Mars</td><td>6 800</td><td>227 900 000</td></tr>
          <tr><td>Neptune</td><td>48 600</td><td>4 490 000 000</td></tr>
        </tbody>
      </table>
    </div>

    <div>
      <ol>
        <li>Quelle est la plus grande plan√®te du syst√®me solaire ? 
          <input id="pa1" type="text" placeholder="nom" data-correct="Jupiter" />
        </li>
        <li>Quelle est la plan√®te la plus √©loign√©e du Soleil ? 
          <input id="pa2" type="text" placeholder="nom" data-correct="Neptune" />
        </li>
        <li>√âcris en toutes lettres la distance de cette plan√®te au Soleil : 
          <input id="pa3" type="text" placeholder="..." data-correct="Quatre milliards quatre cent quatre-vingt-dix millions de kilom√®tres" />
        </li>
        <li>Range les plan√®tes par ordre croissant de leur diam√®tre : 
          <input id="pa4" type="text" placeholder="Mercure, ... , Jupiter" data-correct="Mercure, Mars, V√©nus, Terre, Neptune, Uranus, Saturne, Jupiter" />
        </li>
        <li>Range les plan√®tes par ordre d√©croissant de leur distance au Soleil : 
          <input id="pa5" type="text" placeholder="V√©nus, ... , Jupiter" data-correct="Neptune, Uranus, Saturne, Jupiter, Mars, Terre, V√©nus, Mercure" />
        </li>
        <li>Quelle plan√®te est √† environ 150 millions de km du Soleil ? 
          <input id="pa6" type="text" placeholder="nom" data-correct="Terre" />
        </li>
      </ol>
    </div>
  </div>

  <details style="margin-top:6px;">
    <summary>üí° Aide Ex. A</summary>
    <p>Compare les <em>plus grands nombres</em> dans chaque colonne. 150 millions = 150‚ÄØ000‚ÄØ000.</p>
  </details>

  <div class="info" style="margin-top:8px;">
    <button class="btn btn-green" type="button" onclick="corrigerDeepA(false)">‚úÖ V√©rifier A</button>
    <button class="btn btn-accent btn-correction" type="button" onclick="corrigerDeepA(true)">üß† Correction A</button>
    <button class="btn" type="button" onclick="resetDeepA()">üîÅ Recommencer A</button>
    <span class="badge">Essais restants : <strong id="tries-A">5</strong></span>
    <span class="badge">Score : <strong id="score-A">0</strong> / <span id="max-A">6</span></span>
  </div>

  <p id="msg-A" aria-live="polite"></p>

  <!-- ‚úÖ Correction d√©taill√©e -->
  <section id="corr-exA" class="correction">
    <h3>‚úÖ Correction ‚Äì Ex. A : Les plan√®tes</h3>
    <ol>
      <li><strong>Plus grande plan√®te :</strong> <span class="reponse">Jupiter</span><br><em>Diam√®tre : 140‚ÄØ000 km</em></li>
      <li><strong>Plan√®te la plus √©loign√©e du Soleil :</strong> <span class="reponse">Neptune</span><br><em>Distance : 4‚ÄØ490‚ÄØ000‚ÄØ000 km</em></li>
      <li><strong>Distance en toutes lettres :</strong> <span class="reponse">Quatre milliards quatre cent quatre-vingt-dix millions de kilom√®tres</span></li>
      <li><strong>Ordre croissant des diam√®tres :</strong><br><span class="reponse">Mercure, Mars, V√©nus, Terre, Neptune, Uranus, Saturne, Jupiter</span></li>
      <li><strong>Ordre d√©croissant des distances au Soleil :</strong><br><span class="reponse">Neptune, Uranus, Saturne, Jupiter, Mars, Terre, V√©nus, Mercure</span></li>
      <li><strong>Plan√®te ‚âà 150 millions km :</strong> <span class="reponse">Terre</span><br><em>Distance : 149‚ÄØ600‚ÄØ000 km</em></li>
    </ol>
    <details style="margin-top:8px;">
      <summary>üí° M√©thode utilis√©e</summary>
      <p>On compare les valeurs num√©riques dans le tableau. Pour les distances, 150 millions = 150‚ÄØ000‚ÄØ000.</p>
    </details>
  </section>
</section>

<hr/>


      <!-- EXERCICE B : Lecture/√©criture grands nombres -->
      <h3>üî¢ Ex. B ‚Äì Lecture & √©criture des grands nombres</h3>
      <p>Consignes :</p>
<p>1. R√©√©cris les nombres en pla√ßant les espaces correctement.</p>
<p>2. Lis chaque nombre √† haute voix.</p>

      
      <div class="grid grid-2">
        <div>
          <label>10 254 985 ‚Äî en lettres</label>
          <input id="pb1" type="text" placeholder="r√©ponse en lettres" />
        </div>
        <div>
          <label>200 504 ‚Äî en lettres</label>
          <input id="pb2" type="text" placeholder="r√©ponse en lettres" />
        </div>
        <div>
          <label>En chiffres : cinq millions six cent quatre-vingt-dix-huit mille cinq cent quarante et un</label>
          <input id="pb3" type="text" placeholder="r√©ponse en chiffres" />
        </div>
        <div>
          <label>En chiffres : quatre-vingt-seize millions cinq cent quatre-vingt-quatre mille cent vingt-sept</label>
          <input id="pb4" type="text" placeholder="r√©ponse en chiffres" />
        </div>
        <div>
          <label>523 658 002 ‚Äî en lettres</label>
          <input id="pb5" type="text" placeholder="r√©ponse en lettres" />
        </div>
        <div>
          <label>15 480 001 740 ‚Äî en lettres</label>
          <input id="pb6" type="text" placeholder="r√©ponse en lettres" />
        </div>
      </div>
      <details style="margin-top:6px;"><summary>üí° Aide Ex. B</summary>
        <p>Place les espaces entre <em>classes</em> et respecte les traits d'union en fran√ßais.</p>
      </details>
          <!-- ‚úÖ Correction d√©taill√©e ‚Äì Ex. B -->
        <section id="corr-exB" class="correction">
          <h3>‚úÖ Correction ‚Äì Ex. B</h3>
          <ol>
            <li><strong>10 254 985 ‚Äî en lettres :</strong><br>
                <span class="reponse">dix millions deux cent cinquante-quatre mille neuf cent quatre-vingt-cinq</span></li>
            <li><strong>200 504 ‚Äî en lettres :</strong><br>
                <span class="reponse">deux cent mille cinq cent quatre</span></li>
            <li><strong>En chiffres :</strong> ¬´ cinq millions six cent quatre-vingt-dix-huit mille cinq cent quarante et un ¬ª<br>
                <span class="reponse">5 698 541</span></li>
            <li><strong>En chiffres :</strong> ¬´ quatre-vingt-seize millions cinq cent quatre-vingt-quatre mille cent vingt-sept ¬ª<br>
                <span class="reponse">96 584 127</span></li>
            <li><strong>523 658 002 ‚Äî en lettres :</strong><br>
                <span class="reponse">cinq cent vingt-trois millions six cent cinquante-huit mille deux</span></li>
            <li><strong>15 480 001 740 ‚Äî en lettres :</strong><br>
                <span class="reponse">quinze milliards quatre cent quatre-vingts millions mille sept cent quarante</span></li>
          </ol>
        </section>
      
      <div class="info" style="margin-top:8px;">
        <button class="btn btn-green" type="button" onclick="corrigerDeepB(false)">‚úÖ V√©rifier B</button>
        <button class="btn btn-accent btn-correction" type="button" onclick="corrigerDeepB(true)">üß† Correction B</button>
        <button class="btn" type="button" onclick="resetDeepB()">üîÅ Recommencer B</button>
      </div>
      <hr/>
  

      <!-- EXERCICE C : Identifier des chiffres et groupes -->
      <h3>üîç Ex. C ‚Äì Identifier des chiffres et des groupes</h3>
      <p>√âcris ce qu‚Äôon te demande dans chaque nombre :</p>
      <table>
        <thead><tr><th>Nombre</th><th>Consigne</th><th>R√©ponse</th></tr></thead>
        <tbody>
          <tr><td>245 600</td><td>chiffre des dizaines de mille</td><td><input id="pc1" type="text"/></td></tr>
          <tr><td>16 204 189</td><td>nombre de dizaines de millions</td><td><input id="pc2" type="text"/></td></tr>
          <tr><td>8 250 430</td><td>nombre des centaines de mille</td><td><input id="pc3" type="text"/></td></tr>
          <tr><td>54 177 697</td><td>chiffre des dizaines de millions</td><td><input id="pc4" type="text"/></td></tr>
          <tr><td>378 280</td><td>chiffre des dizaines de mille</td><td><input id="pc5" type="text"/></td></tr>
          <tr><td>44 248 743</td><td>nombre des milliers</td><td><input id="pc6" type="text"/></td></tr>
        </tbody>
      </table>
          <!-- ‚úÖ Correction d√©taill√©e ‚Äì Ex. C -->
      <section id="corr-exC" class="correction">
        <h3>‚úÖ Correction ‚Äì Ex. C</h3>
        <ul>
          <li>245 600 ‚Äî <em>chiffre des dizaines de mille</em> : <strong>4</strong></li>
          <li>16 204 189 ‚Äî <em>nombre de dizaines de millions</em> : <strong>1</strong></li>
          <li>8 250 430 ‚Äî <em>nombre des centaines de mille</em> : <strong>82</strong></li>
          <li>54 177 697 ‚Äî <em>chiffre des dizaines de millions</em> : <strong>5</strong></li>
          <li>378 280 ‚Äî <em>chiffre des dizaines de mille</em> : <strong>7</strong></li>
          <li>44 248 743 ‚Äî <em>nombre des milliers</em> : <strong>44 248</strong></li>
        </ul>
      </section>
      
      <div class="info" style="margin-top:8px;">
        <button class="btn btn-green" type="button" onclick="corrigerDeepC(false)">‚úÖ V√©rifier C</button>
        <button class="btn btn-accent btn-correction" type="button" onclick="corrigerDeepC(true)">üß† Correction C</button>
        <button class="btn" type="button" onclick="resetDeepC()">üîÅ Recommencer C</button>
      </div>
      <hr/>

      <!-- EXERCICE D : Suites -->
      <h3>‚ûï Ex. D ‚Äì Compl√©ter les suites num√©riques</h3>
      <p>Compl√®te ce tableau avec des nombres qui conviennent :</p>
      <table>
        <thead><tr><th>Nombre qui pr√©c√®de</th><th>Nombre donn√©</th><th>Nombre qui suit</th></tr></thead>
        <tbody>
          <tr><td><input id="pd1p"/></td><td>853 089</td><td><input id="pd1s"/></td></tr>
          <tr><td>999</td><td><input id="pd2d"/></td><td><input id="pd2s"/></td></tr>
          <tr><td><input id="pd3p"/></td><td><input id="pd3d"/></td><td>950 654</td></tr>
          <tr><td><input id="pd4p"/></td><td>900 099</td><td><input id="pd4s"/></td></tr>
          <tr><td><input id="pd5p"/></td><td><input id="pd5d"/></td><td>801 000</td></tr>
          <tr><td><input id="pd6p"/></td><td>69 999</td><td><input id="pd6s"/></td></tr>
        </tbody>
      </table>
      <!-- ‚úÖ Correction d√©taill√©e ‚Äì Ex. D -->
      <section id="corr-exD" class="correction">
        <h3>‚úÖ Correction ‚Äì Ex. D</h3>
        <table>
          <thead><tr><th>Pr√©c√®de</th><th>Donn√©</th><th>Suit</th></tr></thead>
          <tbody>
            <tr><td>853 088</td><td>853 089</td><td>853 090</td></tr>
            <tr><td>999</td><td>1 000</td><td>1 001</td></tr>
            <tr><td>950 652</td><td>950 653</td><td>950 654</td></tr>
            <tr><td>900 098</td><td>900 099</td><td>900 100</td></tr>
            <tr><td>800 998</td><td>800 999</td><td>801 000</td></tr>
            <tr><td>69 998</td><td>69 999</td><td>70 000</td></tr>
          </tbody>
        </table>
      </section>
      
      <div class="info" style="margin-top:8px;">
        <button class="btn btn-green" type="button" onclick="corrigerDeepD(false)">‚úÖ V√©rifier D</button>
        <button class="btn btn-accent btn-correction" type="button" onclick="corrigerDeepD(true)">üß† Correction D</button>
        <button class="btn" type="button" onclick="resetDeepD()">üîÅ Recommencer D</button>
      </div>
      <hr/>

      <!-- EXERCICE E : Statistiques sportives -->
      <h3>‚öΩ Ex. E ‚Äì Statistiques sportives</h3>
      <p>Le tableau suivant donne les sports pratiqu√©s par les √©l√®ves d‚Äôun coll√®ge.</p>
      
      <table>
        <thead><tr><th>Niveau</th><th>Football</th><th>Tennis</th><th>Natation</th><th>Autres</th></tr></thead>
        <tbody>
          <tr><td>6e</td><td>36</td><td>45</td><td>23</td><td>15</td></tr>
          <tr><td>5e</td><td>45</td><td>31</td><td>14</td><td>3</td></tr>
          <tr><td>4e</td><td>59</td><td>17</td><td>13</td><td>5</td></tr>
          <tr><td>3e</td><td>65</td><td>31</td><td>26</td><td>2</td></tr>
          <tr><td>Total</td><td><input id="peF"/></td><td><input id="peT"/></td><td><input id="peN"/></td><td><input id="peA"/></td></tr>
        </tbody>
      </table>
      <ol>
        <li>Combien d‚Äô√©l√®ves de 6√®me pratiquent la natation ? <br> √âl√®ves de 6e en natation : <input id="peQ1"/></li><br>
        <li>Combien d‚Äô√©l√®ves pratiquent le football ?<br>Total football : <input id="peQ2"/></li><br>
        <li>Quel est le sport le plus pratiqu√© ?<br>Sport le plus pratiqu√© : <input id="peQ3"/></li><br>
        <li>Construis un diagramme en b√¢tons pour les √©l√®ves de 6√®me.</li>
        <h3>üìä Consigne : Cr√©er un diagramme en b√¢tons avec Excel 2007</h3>

  <p><strong>Objectif :</strong> Utiliser Microsoft Excel 2007 pour construire un diagramme en b√¢tons √† partir des donn√©es du tableau.</p>

  <h2>üß≠ √âtapes √† suivre :</h2>
  <ul>
    <li><strong>1.</strong> Ouvre Microsoft Excel 2007 depuis le menu D√©marrer.</li>
    <li><strong>2.</strong> Recopie les donn√©es dans deux colonnes :
      <br>Colonne A : noms des sports
      <br>Colonne B : nombre d‚Äô√©l√®ves
      <br><em>Exemple :</em>
      <pre>
        A           | B
        ------------|-----
        Football    | 12
        Natation    | 8
        Basket      | 10
        Athl√©tisme  | 6
      </pre>
    </li>
    <li><strong>3.</strong> S√©lectionne les cellules contenant les donn√©es.</li>
    <li><strong>4.</strong> Clique sur l‚Äôonglet <em>Insertion</em>, puis sur <em>Colonne</em> dans le groupe <em>Graphiques</em>.</li>
    <li><strong>5.</strong> Choisis le mod√®le <em>Histogramme group√©</em>.</li>
    <li><strong>6.</strong> Personnalise ton graphique :
      <ul>
        <li>Ajoute un titre (ex. : <em>Sports pratiqu√©s au coll√®ge</em>)</li>
        <li>V√©rifie que les noms des sports apparaissent bien en bas</li>
        <li>V√©rifie que les barres sont bien visibles</li>
      </ul>
    </li>
    <li><strong>7.</strong> Enregistre ton travail :
      <br>Clique sur <em>Fichier ‚Üí Enregistrer sous</em>, donne un nom √† ton fichier et choisis un emplacement.
    </li>
  </ul>
      </ol>
        <!-- ‚úÖ Correction d√©taill√©e ‚Äì Ex. E -->
      <section id="corr-exE" class="correction">
        <h3>‚úÖ Correction ‚Äì Ex. E</h3>
        <ul>
          <li><strong>Totaux :</strong> Football = 205 ; Tennis = 124 ; Natation = 76 ; Autres = 25</li>
          <li><strong>6e en natation :</strong> 23</li>
          <li><strong>Total football :</strong> 205</li>
          <li><strong>Sport le plus pratiqu√© :</strong> Football</li>
        </ul>
      </section>
     
      <div class="info" style="margin-top:8px;">
        <button class="btn btn-green" type="button" onclick="corrigerDeepE(false)">‚úÖ V√©rifier E</button>
        <button class="btn btn-accent btn-correction" type="button" onclick="corrigerDeepE(true)">üß† Correction E</button>
        <button class="btn" type="button" onclick="resetDeepE()">üîÅ Recommencer E</button>
      </div>
      <hr/>

<!-- ==================== EXERCICE F ==================== -->     
    
<h3>üìç Ex. F ‚Äì Rep√©rage sur une demi-droite gradu√©e</h3>

<p><strong>Objectif :</strong> Placer les points <code>A(450)</code>, <code>B(870)</code>, <code>C(900)</code>, <code>D(1100)</code> sur la demi-droite gradu√©e de GeoGebra Classroom ou les dessiner sur une feuille.</p>

<div class="aide">
  üß† <strong>Aide :</strong> GeoGebra Classroom est une plateforme interactive. Tu vas y placer des points sur une ligne gradu√©e. Suis les √©tapes ci-dessous pour y acc√©der et comprendre comment interagir.
</div>

<ul>
  <li title="Clique sur le lien pour ouvrir la le√ßon dans un nouvel onglet.">üßó‚Äç‚ôÇÔ∏è <strong>Rejoins la le√ßon :</strong> 
    <a href="https://www.geogebra.org/classroom/aa6srqrt" target="_blank" rel="noopener">
      üëâ Ouvrir la le√ßon GeoGebra (code : AA6S&nbsp;RQRT)
    </a>
  </li>

  <li title="Tu n‚Äôas pas besoin de compte. Clique sur ce bouton pour continuer.">üñ±Ô∏è Clique sur <strong>"Continuer sans se connecter"</strong></li>

  <li title="√âcris ton pr√©nom pour que l‚Äôenseignant puisse te reconna√Ætre.">‚úçÔ∏è Entre ton nom</li>

  <li title="Cela d√©marre l‚Äôexercice. Tu verras une demi-droite gradu√©e.">üöÄ Clique sur <strong>"Lancer"</strong></li>

  <li title="Utilise l‚Äôoutil 'Point' dans GeoGebra pour placer les coordonn√©es demand√©es.">üü¢ Place les points demand√©s :
    <ul>
      <li title="Utilise l‚Äôoutil 'Point' et clique sur 450.">A(450)</li>
      <li title="Place le point √† 870 sur la demi-droite.">B(870)</li>
      <li title="Place le point √† 900.">C(900)</li>
      <li title="Place le point √† 1100.">D(1100)</li>
    </ul>
  </li>
</ul>

<div class="aide">
  üéì <strong>Choisis ta m√©thode pour placer les points :</strong><br><br>

  üñ±Ô∏è <strong>M√©thode graphique</strong> ‚Äì intuitive et visuelle :  
  <ul>
    <li>Clique sur l‚Äôoutil <strong>"Point"</strong> (ic√¥ne en forme de cercle)</li>
    <li>Place le point directement sur la demi-droite gradu√©e √† la bonne position</li>
    <li>üí° Astuce : tu peux zoomer ou d√©placer la vue avec ta souris si besoin</li>
  </ul>

  ‚å®Ô∏è <strong>M√©thode alg√©brique</strong> ‚Äì rapide et pr√©cise :  
  <ul>
    <li>Clique sur l‚Äôonglet <strong>Alg√®bre</strong> √† gauche</li>
    <li>Dans la zone <em>"Saisie..."</em>, tape les coordonn√©es du point, par exemple : <code>A = (450, 0)</code></li>
    <li>Appuie sur Entr√©e pour valider</li>
    <li>üîÅ R√©p√®te pour les autres points : <code>B = (870, 0)</code>, <code>C = (900, 0)</code>, <code>D = (1100, 0)</code></li>
  </ul>

  üß† <em>Tu peux choisir la m√©thode qui te semble la plus simple. Les deux sont valides‚ÄØ!</em>
</div>


<iframe
  src="https://www.geogebra.org/classroom/aa6srqrt"
  title="GeoGebra Classroom ‚Äì Ex. F Q1"
  width="100%"
  height="640"
  style="border:1px solid #00bfff; border-radius:8px"
  loading="lazy"
  referrerpolicy="strict-origin-when-cross-origin"
  sandbox="allow-scripts allow-same-origin allow-forms allow-modals allow-popups">
</iframe>

 
   
<!-- ==================== EXERCICE F / QUESTION 2 : Description de la m√©thode ==================== --> 
<p>D√©cris simplement ta m√©thode :
  <input id="pf1" type="text" placeholder="En une phrase : comment as-tu plac√© les points ?" />
</p>

<!-- ==================== EXERCICE G ==================== -->       
      <h3>üìê Ex. G ‚Äì Rep√©rage sur une demi-droite gradu√©e (Lecture d'abscisses)</h3>
                
      <div class="img-wrap">
        <img
          id="img-exG4"
          class="responsive-img"
          src="../images/EXERCISE 7 ‚Äì Rep√©rage sur une demi-droite gradu√©e.png"
          alt="Rep√©rage sur une demi-droite gradu√©e">
      </div>

      <ol>
        <li>Quelles sont les abscisses des points A et B ? 
          <br>Abscisses de A : <input id="pg1" type="text" placeholder="exemple : (1.75, 0)"/> 
          <br>Abscisses de B : <input id="pg2" type="text" placeholder="exemple : (1.75, 0)"/></li><br>
        <li>Place mentalement les points C(2,1) et D(0,5) sur la demi-droite gradu√©e.
          <br>O√π placer C : <input id="pg3" placeholder="Ex. : √† 0,5 sur la demi-droite"/>
          <br>O√π placer D : <input id="pg4" placeholder="Ex. : √† 0,5 sur la demi-droite"/></li>
      </ol>

    <!-- ==================== EXERCICE H ==================== -->       
      <h3>üìê Ex. H ‚Äì Rep√©rage d√©cimal (Rep√©rage plus complexe)</h3>
        <!-- √Ä placer dans Ex. H -->
        <div class="img-wrap">
          <img src="../images/EXERCICE 8 ‚Äì Rep√©rage plus complexe.svg"
               alt="Rep√©rage plus complexe">
        </div>
      
      <ol>
        <li>D√©termine l‚Äôabscisse des points C et D.
                <br>Abscisses de C : <input id="ph1" placeholder="exemple : (1.75, 0)"/>
                <br>Abscisses de D : <input id="ph2" placeholder="exemple : (1.75, 0)"/></li><br>

        
        <li>Placer E(4,45) et F(4,22) : </li>             
              <p><strong>Objectif :</strong> Placer les points <code>E(4.45)</code> et <code>F(4.22)</code> sur le rep√®re d√©cimal dans GeoGebra Classroom.</p>
              
              <div class="aide">
                üß† <strong>Consigne :</strong> Suis les √©tapes ci-dessous pour acc√©der √† l‚Äôexercice et placer les points demand√©s.
              </div>
              
              <ul>
                <li>üßó‚Äç‚ôÇÔ∏è <strong>Rejoins la le√ßon :</strong> 
                  <a href="https://www.geogebra.org/classroom/ytvj3gvg" target="_blank" rel="noopener">
                    üëâ Ouvrir la le√ßon GeoGebra (code : YTVJ&nbsp;3GVG)
                  </a>
                </li>
                <li>üñ±Ô∏è Clique sur <strong>"Continuer sans se connecter"</strong></li>
                <li>‚úçÔ∏è Entre ton nom</li>
                <li>üöÄ Clique sur <strong>"Lancer"</strong></li>
              </ul>
              
              <div class="aide">
                üéì <strong>Choisis ta m√©thode pour placer les points :</strong><br><br>
              
                üñ±Ô∏è <strong>M√©thode graphique</strong> ‚Äì intuitive et visuelle :  
                <ul>
                  <li>Clique sur l‚Äôoutil <strong>"Point"</strong> (ic√¥ne cercle)</li>
                  <li>Place le point <strong>E</strong> √† la position <code>(4.45, 0)</code></li>
                  <li>Place le point <strong>F</strong> √† la position <code>(4.22, 0)</code></li>
                </ul>
              
                ‚å®Ô∏è <strong>M√©thode alg√©brique</strong> ‚Äì rapide et pr√©cise :  
                <ul>
                  <li>Clique sur l‚Äôonglet <strong>Alg√®bre</strong> √† gauche</li>
                  <li>Dans <em>"Saisie..."</em>, tape : <code>E = (4.45, 0)</code> puis Entr√©e</li>
                  <li>Puis : <code>F = (4.22, 0)</code></li>
                </ul>
              
                üß† <em>Tu peux choisir la m√©thode qui te semble la plus simple. Les deux sont valides‚ÄØ!</em>
              </div>
              
              <iframe
                src="https://www.geogebra.org/classroom/ytvj3gvg"
                title="GeoGebra Classroom ‚Äì Ex. H Q2"
                width="100%"
                height="640"
                style="border:1px solid #00bfff; border-radius:8px"
                loading="lazy"
                referrerpolicy="strict-origin-when-cross-origin"
                sandbox="allow-scripts allow-same-origin allow-forms allow-modals allow-popups">
              </iframe>
        <div class="aide">
        üé® <strong>Personnaliser l‚Äôapparence des points :</strong><br><br>
      
        Tu peux modifier la <strong>forme</strong>, la <strong>taille</strong> et la <strong>couleur</strong> d‚Äôun point en suivant ces √©tapes :
        <ol>
          <li>üñ±Ô∏è Clique sur le point que tu veux modifier</li>
          <li>‚öôÔ∏è Dans le menu qui appara√Æt, clique sur <strong>"Propri√©t√©s"</strong></li>
          <li>üéØ Va dans l‚Äôonglet <strong>"Style"</strong></li>
          <li>üîò Choisis la <strong>forme du point</strong> (ex. : cercle, croix, carr√©‚Ä¶)</li>
          <li>üìè Ajuste la <strong>taille du point</strong> avec le curseur</li>
          <li>üåà Va dans l‚Äôonglet <strong>"Couleur"</strong> pour changer la couleur</li>
        </ol>
      
        üí° <em>Astuce :</em> Une croix rouge est id√©ale pour bien rep√©rer un point dans un exercice de rep√©rage d√©cimal.
      </div>

          <!-- ‚úÖ Correction ‚Äì Ex. G‚ÄìH (m√©thode + auto-remplissage si data-correct pr√©sents) -->
      <section id="corr-exGH" class="correction">
           
          <h3>‚úÖ Correction ‚Äì Exercice G</h3>
          <ul>
            <li>üìç <strong>Abscisse de A :</strong> (0.8, 0)</li>
            <li>üìç <strong>Abscisse de B :</strong> (1.4, 0)</li>
            <li>üß† <strong>O√π placer C(2,1) :</strong> juste apr√®s le 2, un peu avant 2,2</li>
            <li>üß† <strong>O√π placer D(0,5) :</strong> au milieu entre 0 et 1</li>
          </ul>
          
          <h3>‚úÖ Correction ‚Äì Exercice H</h3>
          <ul>
            <li>üìç <strong>Abscisse de C :</strong> (4,26, 0)</li>
            <li>üìç <strong>Abscisse de D :</strong> (4,37, 0)</li>
            <li>üß† <strong>O√π placer E(4,45) :</strong> entre 4,4 et 4,5, presque au milieu</li>
            <li>üß† <strong>O√π placer F(4,22) :</strong> juste apr√®s 4,2, un peu avant 4,25</li>
          </ul>

        
      </section>

        
      </ol>
      <div class="info" style="margin-top:8px;">
        <button class="btn btn-green" type="button" onclick="corrigerDeepFGH(false)">‚úÖ V√©rifier F‚ÄìH</button>
        <button class="btn btn-accent btn-correction" type="button" onclick="corrigerDeepFGH(true)">üß† Correction F‚ÄìH</button>
        <button class="btn" type="button" onclick="resetDeepFGH()">üîÅ Recommencer F‚ÄìH</button>
      </div>
      <hr/>

<!-- ====================================================== DEFIS court ====================================================== -->          
<div class="exercise">      
      <!-- DEFIS courts -->
      <h1>üë• D√âFIS courts‚Äì √Ä faire en groupe de 3</h1><br>
</div>
      
<div class="exercise">
       
        <label>Tes notes du groupe :</label><br><textarea id="rep9"></textarea>
        <button onclick="toggleCorrection('corr9')">Correction</button>
        <div id="corr9" class="correction">
            <p>Cet exercice se fait en groupe et encourage la discussion. Pas de r√©ponse fixe, mais parlez des id√©es, partagez les calculs, et notez ce que vous apprenez. C'est pour travailler ensemble comme une √©quipe !</p>
        </div>
    </div>
<!-- ====================================================== D√âFI 1 ‚Äì Le porte-conteneurs Antoine de Saint-Exup√©ry ====================================================== -->    
    <div class="exercise">
        <h2>üö¢ D√âFI 1 ‚Äì Le porte-conteneurs Antoine de Saint-Exup√©ry</h2>
      <div class="img-wrap">
           <img src="../images/D√âFI 1 ‚Äì Le porte-conteneurs Antoine de Saint-Exup√©ry.jpg" 
                alt="Porte-conteneurs Antoine De Saint-Exup√©ry">
      </div>
      
        <p>Porte-conteneurs Antoine De Saint-Exup√©ry</p>      
        <p>Conteneur de 20 pieds ‚Äì Dimensions caract√©ristiques :</p>
        <ul>
            <li>Ext√©rieur : 6 068 √ó 2 438 √ó 2 591 mm</li>
            <li>Int√©rieur : 5 919 √ó 2 340 √ó 2 380 mm</li>
            <li>Ouverture de porte : 2 286 √ó 2 278 mm</li>
        </ul>
        <p>Le porte-conteneurs fran√ßais Antoine De Saint-Exup√©ry est l‚Äôun des plus gros bateaux du monde. On dit qu‚Äôavec 398 m de long et 59 m de large, c‚Äôest l‚Äô√©quivalent de 4 terrains de football, et que les 20 600 conteneurs qu‚Äôil peut contenir, align√©s, forment une cha√Æne de 125 km.</p>
        <p>Saurez-vous v√©rifier ces informations en sachant qu‚Äôun conteneur de 20 pieds mesure 6 068 mm de long ?</p>
        <label>Ta v√©rification (calculs et explication) :</label><br><textarea id="rep_def1"></textarea>
        
      
      
            <button type="button" onclick="const x=document.getElementById('corr-defi-1'); x.style.display = x.style.display==='block'?'none':'block'">Correction</button>
            <div id="corr-defi-1" class="correction">
            <p>Allons v√©rifier √©tape par √©tape ! D'abord, la longueur du bateau : 398 m. Un terrain de football fait environ 100 m de long (en vrai 105 m, mais approximons √† 100). 4 terrains : 4 √ó 100 = 400 m. 398 m est tr√®s proche de 400 m, donc oui, c'est presque 4 terrains.</p>
            <p>Maintenant, les conteneurs align√©s. Un conteneur : 6 068 mm = 6,068 m (divise par 1 000). 20 600 conteneurs : 20 600 √ó 6,068. Calculons : d'abord 20 000 √ó 6,068 = 121 360 m. 600 √ó 6,068 = 3 640,8 m. Total ‚âà 125 000,8 m = 125 km (divise par 1 000). Oui, √ßa colle ! Imagine une cha√Æne de conteneurs comme un train super long.</p>
            <p>Pour la largeur, 59 m, un terrain fait 68 m de large, mais l'√©quivalence est pour la longueur, pas largeur. Tout v√©rifi√© !</p>
        </div>
    </div>
<!-- ====================================================== D√âFI 2 ‚Äì L‚Äôunit√© astronomique (UA) ====================================================== -->    
    <div class="exercise">
        <h2>üåû D√âFI 2 ‚Äì L‚Äôunit√© astronomique (UA)</h2>
         <div class="img-wrap">
               <img src="../images/D√âFI 2 ‚Äì L‚Äôunit√© astronomique (UA).png" 
                    alt="Unit√© astronomique">
         </div>
        <h3>ü™ê D√©finition :</h3>
        <p>L‚ÄôUnit√© Astronomique (UA) est la distance moyenne entre la Terre et le Soleil.</p>
        <p>La lumi√®re met 8 minutes et 20 secondes pour parcourir cette distance, √† une vitesse de 300 000 km par seconde.</p>
        <h3>‚úèÔ∏è Questions :</h3>
        <ol>
            <li class="question">Saurez-vous calculer, en kilom√®tres, la distance entre la Terre et le Soleil ? ‚Üí Convertis 8 minutes et 20 secondes en secondes. ‚Üí Multiplie cette dur√©e par la vitesse de la lumi√®re.
                <br><label>Ta r√©ponse :</label><br><textarea id="rep_def2_1"></textarea>
                
              
                  <button type="button" onclick="const x=document.getElementById('corr_def2_1'); x.style.display = x.style.display==='block'?'none':'block'">Correction</button>
                  <div id="corr_def2_1" class="correction">
                    <p>√âtape 1 : Convertir le temps en secondes. 8 minutes = 8 √ó 60 = 480 secondes. + 20 secondes = 500 secondes total.</p>
                    <p>√âtape 2 : Vitesse de la lumi√®re = 300 000 km/s. Distance = temps √ó vitesse = 500 √ó 300 000 = 150 000 000 km.</p>
                    <p>C'est 150 millions de km ! Imagine, la lumi√®re voyage super vite, mais √ßa prend encore 500 secondes pour arriver du Soleil √† la Terre.</p>
                </div>
            </li>
            <li class="question">Sachant que Jupiter est 5 fois plus √©loign√©e du Soleil que la Terre, Saturne 10 fois, Uranus 20 fois, Neptune 30 fois, saurez-vous calculer, en kilom√®tres, les distances du Soleil √† Jupiter, √† Saturne, √† Uranus et √† Neptune ? ‚Üí Utilise la distance Terre‚ÄìSoleil comme unit√© de base (1 UA). ‚Üí Multiplie par les facteurs donn√©s.
                <br><label>Ta r√©ponse :</label><br><textarea id="rep_def2_2"></textarea>
                
                    <button type="button" onclick="const x=document.getElementById('corr_def2_2'); x.style.display = x.style.display==='block'?'none':'block'">Correction</button>
                    <div id="corr_def2_2" class="correction">
                    <p>1 UA = 150 000 000 km (de la question 1).</p>
                    <p>Jupiter : 5 UA = 5 √ó 150 000 000 = 750 000 000 km.</p>
                    <p>Saturne : 10 UA = 10 √ó 150 000 000 = 1 500 000 000 km.</p>
                    <p>Uranus : 20 UA = 20 √ó 150 000 000 = 3 000 000 000 km.</p>
                    <p>Neptune : 30 UA = 30 √ó 150 000 000 = 4 500 000 000 km.</p>
                    <p>C'est comme multiplier la distance Terre-Soleil par ces nombres. Neptune est 30 fois plus loin, imagine le voyage !</p>
                </div>
            </li>
            <li class="question">Saurez-vous calculer, en kilom√®tres, la distance pour aller sur Mars, qui est √† 1,5 UA de la Terre ? ‚Üí Applique le m√™me principe en multipliant 1,5 par la distance d‚Äô1 UA.
                <br><label>Ta r√©ponse :</label><br><textarea id="rep_def2_3"></textarea>
                
                    <button type="button" onclick="const x=document.getElementById('corr_def2_3'); x.style.display = x.style.display==='block'?'none':'block'">Correction</button>
                    <div id="corr_def2_3" class="correction">
                    <p>Attention, c'est 1,5 UA du Soleil, mais la distance Terre-Mars varie. Mais si on prend moyenne, Mars est √† 1,5 UA du Soleil, Terre √† 1 UA, la distance minimale est 0,5 UA, mais la question dit "√† 1,5 UA de la Terre" ? Attends, l'√©nonc√© dit "qui est √† 1,5 UA de la Terre", mais en moyenne Mars est √† 1,52 UA du Soleil, distance Terre-Mars moyenne ~0,52 UA.</p>
                    <p>Mais suivant l'√©nonc√© : 1,5 √ó 1 UA = 1,5 √ó 150 000 000 = 225 000 000 km. C'est l'approximation pour la distance Terre-Mars max ou quelque chose, mais calcul simple.</p>
                </div>
            </li>
        </ol>
        <h3>üß† Objectifs p√©dagogiques :</h3>
        <ul>
            <li>Travailler les conversions de temps en secondes</li>
            <li>Appliquer les vitesses et distances dans un contexte scientifique</li>
            <li>Relier les math√©matiques √† l‚Äôastronomie et √† la physique</li>
        </ul>
    </div>
<!-- ====================================================== D√âFI 3 ‚Äì Les vers √† soie ====================================================== -->   
    <div class="exercise">
        <h2>üêõ D√âFI 3 ‚Äì Les vers √† soie</h2>
      
         <div class="img-wrap">
               <img src="../images/D√âFI 3 ‚Äì Les vers √† soie 1.png" 
                    alt="Cocon de ver √† soie">
         </div>
      
        <p>Un cocon de ver √† soie produit un seul fil de soie d‚Äôune longueur comprise entre 800 m√®tres et 1 500 m√®tres.</p>
        <h3>‚úèÔ∏è Probl√®me :</h3>
        <p>Avec 20 000 vers √† soie, saurez-vous calculer combien de bobines de 16 m√®tres de fil de soie on peut esp√©rer produire ?</p>
        <label>Ta r√©ponse (calculs min et max) :</label><br><textarea id="rep_def3"></textarea>
        
        
        <button type="button" onclick="const x=document.getElementById('corr_def3'); x.style.display = x.style.display==='block'?'none':'block'">Correction</button>
        <div id="corr_def3" class="correction">
            <p>Chaque ver produit entre 800 m et 1 500 m. Pour 20 000 vers :</p>
            <p>Minimum total : 20 000 √ó 800 = 16 000 000 m.</p>
            <p>Maximum total : 20 000 √ó 1 500 = 30 000 000 m.</p>
            <p>Bobines de 16 m : Min bobines = 16 000 000 / 16 = 1 000 000 bobines.</p>
            <p>Max = 30 000 000 / 16 = 1 875 000 bobines.</p>
            <p>On esp√®re entre 1 million et 1 million 875 mille bobines. Calcul : multiplie le nombre de vers par longueur, puis divise par 16. Comme les vers font de la soie naturelle !</p>
        </div>
    </div>
<!-- ====================================================== D√âFI 4 ‚Äì L‚Äôop√©ration ¬´ Pi√®ces Jaunes ¬ª ====================================================== -->   
    <div class="exercise">
        <h2>üí∞ D√âFI 4 ‚Äì L‚Äôop√©ration ¬´ Pi√®ces Jaunes ¬ª</h2>
      <div class="img-wrap">
        <img src="../images/D√âFI 4 ‚Äì L‚Äôop√©ration ¬´ Pi√®ces Jaunes ¬ª 1.png" alt="Pi√®ces Jaunes 1">
        <img src="../images/D√âFI 4 ‚Äì L‚Äôop√©ration ¬´ Pi√®ces Jaunes ¬ª 2.png" alt="Pi√®ces Jaunes 2">
      </div>
      
        <p>En 2022, l‚Äôop√©ration ¬´ Pi√®ces Jaunes ¬ª a permis de collecter 2 millions d‚Äôeuros au total, gr√¢ce √† deux types de dons :</p>
        <ul>
            <li>Des dons digitaux</li>
            <li>Des dons en pi√®ces physiques, repr√©sentant 112 tonnes de pi√®ces jaunes, soit 123 000 000 centimes</li>
        </ul>
        <p>Questions :</p>
        <ol>
            <li class="question">Calcule les montants en euros pour la collecte digitale et celle en pi√®ces.
                <br><label>Ta r√©ponse :</label><br><textarea id="rep_def4_1"></textarea>
                
                <button type="button" onclick="const x=document.getElementById('corr_def4_1'); x.style.display = x.style.display==='block'?'none':'block'">Correction</button>
                <div id="corr_def4_1" class="correction">
                    <p>Pi√®ces : 123 000 000 centimes. 100 centimes = 1 euro, donc 123 000 000 / 100 = 1 230 000 euros.</p>
                    <p>Total 2 000 000 euros. Digital = total - pi√®ces = 2 000 000 - 1 230 000 = 770 000 euros.</p>
                    <p>C'est comme diviser les centimes par 100 pour euros, puis soustraire.</p>
                </div>
            </li>
            <li class="question">Si les pi√®ces sont uniquement de 50, 20 et 10 centimes en nombre √©gal, combien de pi√®ces de chaque sorte ont √©t√© collect√©es ?
                <br><label>Ta r√©ponse :</label><br><textarea id="rep_def4_2"></textarea>
                <button onclick="toggleCorrection('corr_def4_2')">Correction</button>
                <div id="corr_def4_2" class="correction">
                    <p>Total centimes : 123 000 000. Nombre √©gal de chaque : disons n de 50, n de 20, n de 10.</p>
                    <p>Valeur par groupe : 50 + 20 + 10 = 80 centimes.</p>
                    <p>Total = 80 √ó n = 123 000 000. n = 123 000 000 / 80 = 1 537 500.</p>
                    <p>Donc 1 537 500 pi√®ces de chaque. V√©rifie : 1 537 500 √ó 50 = 76 875 000, √ó20 = 30 750 000, √ó10 = 15 375 000. Total 123 000 000 oui !</p>
                </div>
            </li>
        </ol>
    </div>
<!-- ====================================================== D√âFI 5 ‚Äì Les pixels ====================================================== -->   
    <div class="exercise">
        <h2>üñºÔ∏è D√âFI 5 ‚Äì Les pixels</h2>
      <div class="img-wrap">
        <img src="../images/D√âFI 5 ‚Äì Les pixels 1.png" alt="Pixels flou">
        <img src="../images/D√âFI 5 ‚Äì Les pixels 2.png" alt="Pixels net">
      </div>
        <p>Un pixel (abr√©viation de picture element) est un petit carr√© de couleur. C‚Äôest l‚Äôunit√© de base d‚Äôune image num√©rique. Plus une image contient de pixels, plus elle est d√©taill√©e et nette.</p>
        <p>Deux exemples visuels montrent un visage pixelis√© :</p>
        <ul>
            <li>L‚Äôun avec peu de pixels (image floue)</li>
            <li>L‚Äôautre avec beaucoup de pixels (image nette)</li>
        </ul>
        <h3>üîç Objectif :</h3>
        <p>Comprendre le lien entre le nombre de pixels, la r√©solution d‚Äôune image, et les m√©gapixels d‚Äôun capteur photo.</p>
        <h3>‚úèÔ∏è Questions :</h3>
        <ol>
            <li class="question">Combien de pixels contient une photo de 4 896 pixels en longueur et 3 352 pixels en hauteur ? ‚Üí Calcule le produit : 4 896 √ó 3 352 ‚Üí Donne le r√©sultat en nombre de pixels.
                <br><label>Ta r√©ponse :</label><br><textarea id="rep_def5_1"></textarea>
                
                <button type="button" onclick="const x=document.getElementById('corr_def5_1'); x.style.display = x.style.display==='block'?'none':'block'">Correction</button>
                <div id="corr_def5_1" class="correction">
                    <p>Total pixels = longueur √ó hauteur = 4 896 √ó 3 352.</p>
                    <p>Calcul : 4 896 √ó 3 000 = 14 688 000. 4 896 √ó 300 = 1 468 800. 4 896 √ó 52 = 254 592. Total = 14 688 000 + 1 468 800 = 16 156 800 + 254 592 = 16 411 392 pixels.</p>
                    <p>C'est comme compter les cases d'une grille : lignes √ó colonnes.</p>
                </div>
            </li>
            <li class="question">Pourquoi lit-on ‚Äú15 Mpx‚Äù sur le capteur qui a pris cette photo ? ‚Üí Explique ce que signifie ‚ÄúMpx‚Äù (m√©gapixels). ‚Üí Compare avec le nombre total de pixels calcul√© √† la question 1.
                <br><label>Ta r√©ponse :</label><br><textarea id="rep_def5_2"></textarea>
                <button onclick="toggleCorrection('corr_def5_2')">Correction</button>
                <div id="corr_def5_2" class="correction">
                    <p>Mpx signifie m√©gapixels, 1 Mpx = 1 million de pixels.</p>
                    <p>Calcul : 16 411 392 pixels ‚âà 16,4 millions. Mais on dit 15 Mpx peut-√™tre parce que le capteur utilise pas tous les pixels pour l'image finale, ou approximation. En r√©alit√©, souvent les capteurs annoncent arrondi, ou √† cause du format Bayer qui r√©duit l'effectif. Mais proche de 15-16 Mpx.</p>
                </div>
            </li>
            <li class="question">Trouve les dimensions d‚Äôautres images rectangulaires contenant le m√™me nombre de pixels. ‚Üí Propose au moins deux paires de dimensions (longueur √ó hauteur) diff√©rentes. ‚Üí V√©rifie que leur produit donne bien le m√™me total de pixels.
                <br><label>Ta r√©ponse :</label><br><textarea id="rep_def5_3"></textarea>
               
                <button type="button" onclick="const x=document.getElementById('corr_def5_3'); x.style.display = x.style.display==='block'?'none':'block'">Correction</button>
                <div id="corr_def5_3" class="correction">
                    <p>Total 16 411 392 pixels. Trouve facteurs.</p>
                    <p>Ex1 : 6 144 √ó 2 672 (6 144 √ó 2 672 = v√©rifie 6 144 √ó 2 000 = 12 288 000, √ó672 calcul√© = total m√™me).</p>
                    <p>Ex2 : 3 264 √ó 5 028 (calcul produit = m√™me).</p>
                    <p>Choisis des nombres qui multiplient √† 16 411 392. C'est comme trouver des rectangles avec m√™me aire mais formes diff√©rentes.</p>
                </div>
            </li>
        </ol>
    </div>
<!-- ====================================================== D√âFI TRAVAIL PERSONNEL ‚Äì Le QR-Code ====================================================== -->   
    <div class="exercise">
        <h2>üî≥ D√âFI TRAVAIL PERSONNEL ‚Äì Le QR-Code</h2>
        <div class="img-wrap">
          <img src="../images/D√âFI TRAVAIL PERSONNEL ‚Äì Le QR-Code.png" alt="QR-Code">
        </div>
        <p>Les QR-codes sont constitu√©s de petits carr√©s noirs et blancs.</p>
        <p>Question :</p>
        <ul>
            <li class="question">Saurez-vous estimer le nombre total de petits carr√©s utilis√©s dans un QR-code ?
                <br><label>Ta r√©ponse :</label><br><textarea id="rep_def6"></textarea>
               
              <button type="button" onclick="const x=document.getElementById('corr_def6'); x.style.display = x.style.display==='block'?'none':'block'">Correction</button>
              <div id="corr_def6" class="correction">
                   <p>Un QR-code basique est une grille de 21 √ó 21 = 441 carr√©s. Plus complexes : 25√ó25=625, jusqu'√† 177√ó177‚âà31 329. Pour l'image, compte les lignes : suppose 29√ó29=841 si moyen. Estime en comptant les c√¥t√©s. C'est une grille carr√©e, donc longueur √ó largeur = total carr√©s.</p>
                </div>
            </li>
        </ul>
    </div>

    </section>
<!-- ====================================================== Ressources (√©chauffement & approfondissement ====================================================== -->   
    <section class="card">
      <h2>Ressources (√©chauffement & approfondissement)</h2>
      <ul>
        <li><a class="link" href="https://educajou.forge.apps.education.fr/graduatux/?mode=eleve&log=-1" target="_blank" rel="noopener">Graduatux (droite d√©cimale ‚Äì mode √©l√®ve)</a></li>
      </ul>
      <details style="margin-top:6px;">
        <summary>üß≠ Aide Graduatux (droite d√©cimale ‚Äì mode √©l√®ve)</summary>
        <ol style="margin-top:8px;">
          <li>Ouvre <strong>Graduatux</strong> avec le lien ci-dessus.</li>
          <li>En bas √† <strong>droite</strong>, clique sur l'ic√¥ne ‚â°, puis choisis <strong>Mode √©l√®ve</strong>.</li>
          <li>Choisis une <strong>graduation</strong> (ex. 0,1 ou 1) ‚Äî tu peux cocher plusieurs types <em>al√©atoires</em>.</li>
          <li>Dans <strong>Options</strong> : r√®gle le passage de graduation (jamais / parfois / toujours), le nombre de questions (ex. 6), et le clavier tactile si besoin.</li>
          <li>Clique sur <strong>Commencer</strong>, r√©ponds, puis <strong>Valider</strong>.</li>
        </ol>
      </details>

      <h3>üéØ Exercice interactif : Placer un point sur une droite gradu√©e</h3>
      <iframe src="https://www.jeuxmaths.fr/exercice-de-math-droitegraduee2.html" width="100%" height="600" style="border:1px solid #ccc;">
        Ce jeu ne peut pas s'afficher. <a href="https://www.jeuxmaths.fr/exercice-de-math-droitegraduee2.html">Clique ici pour y acc√©der</a>.
      </iframe>

      
      <div class="info" style="margin-top:10px;">
        <button id="btnExportJSON" class="btn btn-accent" type="button">üíæ Enregistrer mes r√©ponses (JSON)</button>
        <button id="btnExportCSV" class="btn" type="button">üìÑ Enregistrer mes r√©ponses (CSV)</button>
        <button id="btnExportPDFWith"  class="btn btn-green" type="button">üñ®Ô∏è Exporter en PDF (avec r√©ponses)</button>
        <button id="btnExportPDFNo"    class="btn" type="button">üñ®Ô∏è Exporter en PDF (sans r√©ponses)</button>
        <button id="btnSaveHTMLWith"   class="btn btn-accent" type="button">üåê Enregistrer la page (HTML, avec r√©ponses)</button>
        <button id="btnSaveHTMLNo"     class="btn" type="button">üåê Enregistrer la page (HTML, sans r√©ponses)</button>
      </div>
      <p class="lead" style="margin-top:6px;">Les fichiers t√©l√©charg√©s peuvent √™tre d√©pos√©s sur l'ENT / GitHub.</p>
    </section>

    <div id="printSummary" style="display:none;">
      <h1>R√©capitulatif ‚Äì Num√©ration & D√©cimaux (6e)</h1>
      <div id="printMeta"></div>
      <h2>Scores</h2>
      <p>Total : <span id="pTotal"></span> / <span id="pMax"></span> ‚Äî Temps : <span id="pTemps"></span></p>
      <h2>Exercice 1 ‚Äì Associations</h2>
      <table id="pEx1"><thead><tr><th>√âcriture en lettres (cible)</th><th>Nombre d√©pos√©</th></tr></thead><tbody></tbody></table>
      <h2>Exercice 2 ‚Äì Saisies rapides</h2>
      <table id="pEx2"><thead><tr><th>Question</th><th>R√©ponse</th></tr></thead><tbody></tbody></table>
      <h2>Exercice 3 ‚Äì D√©cimaux & abscisses</h2>
      <table id="pEx3"><thead><tr><th>Question</th><th>R√©ponse</th></tr></thead><tbody></tbody></table>
      <h2>Approfondissement</h2>
      <table id="pDeep"><thead><tr><th>Exercice</th><th>R√©ponse</th></tr></thead><tbody></tbody></table>
    </div>

    <div id="toast" class="toast">Fichier enregistr√© sur votre ordinateur.</div>
  </div>

<p>üìÑ Une fois ton travail termin√©, fais <strong>Fichier ‚Üí Imprimer ‚Üí Enregistrer en PDF</strong> pour exporter ta page. Envoie le fichier PDF √† ton enseignant.</p>

<script>

    // =========================
    // Utilitaires
    // =========================
    const byId = (id) => document.getElementById(id);
    const qSel = (sel, root=document) => root.querySelector(sel);
    const qSelAll = (sel, root=document) => Array.from(root.querySelectorAll(sel));

    const toast = byId('toast');
    function showToast(msg){ toast.textContent = msg; toast.style.display='block'; setTimeout(()=> toast.style.display='none', 1800); }

    // Normalisation

    function normNoSep(s){ return norm(s).replace(/[\s\-]+/g,''); } // Variante stricte (pour accepter espaces OU tirets)

    // Formatage FR
    function formatNumberFr(nStr){ const digits = String(nStr).replace(/\D/g,''); if(!digits) return ''; return digits.replace(/\B(?=(?:\d{3})+(?!\d))/g,' '); }

    // =========================
    // Chrono
    // =========================
    let timerInt=null, startTime=0, elapsed=0;
    function updateTimer(){ const t = Date.now()-startTime+elapsed; const sec=Math.floor(t/1000)%60; const min=Math.floor(t/60000); byId('timer').textContent=`${String(min).padStart(2,'0')}:${String(sec).padStart(2,'0')}`; }
    function startTimer(){ if(timerInt) return; startTime=Date.now(); timerInt=setInterval(updateTimer,250); byId('btnStart').disabled=true; byId('btnStop').disabled=false; }
    function stopTimer(){ if(!timerInt) return; clearInterval(timerInt); timerInt=null; elapsed+=Date.now()-startTime; byId('btnStart').disabled=false; byId('btnStop').disabled=true; }
    function resetTimer(){ stopTimer(); elapsed=0; byId('timer').textContent='00:00'; byId('btnStart').disabled=false; byId('btnStop').disabled=true; }

    // =========================
    // Scores / essais globaux
    // =========================
    const MAX_TRIES=5; byId('maxTries').textContent=MAX_TRIES;
    const state = { ex1:{tries:MAX_TRIES,score:0,max:Number(byId('ex1').dataset.max)}, ex2:{tries:MAX_TRIES,score:0,max:Number(byId('ex2').dataset.max)}, ex3:{tries:MAX_TRIES,score:0,max:Number(byId('ex3').dataset.max)}, deep:{tries:MAX_TRIES,score:0,max:Number(byId('approfondissement').dataset.max)} };
    function updateTotal(){ const total = state.ex1.score+state.ex2.score+state.ex3.score+state.deep.score; const max = state.ex1.max+state.ex2.max+state.ex3.max+state.deep.max; byId('totalScore').textContent=total; byId('totalMax').textContent=max; }
    function setTries(exId,val){ state[exId].tries=Math.max(0,val); const idMap={ex1:'tries-ex1',ex2:'tries-ex2',ex3:'tries-ex3',deep:'tries-deep'}; byId(idMap[exId]).textContent=state[exId].tries; }
    function setScore(exId,val){ state[exId].score=Math.max(0, Math.min(val, state[exId].max)); const idMap={ex1:'score-ex1',ex2:'score-ex2',ex3:'score-ex3',deep:'score-deep'}; byId(idMap[exId]).textContent=state[exId].score; updateTotal(); }
    
        /* ========= NORMALISATION TEXTE ========= */
    function norm(s){
      return (s||"")
        .toLowerCase()
        .normalize("NFD").replace(/[\u0300-\u036f]/g,"")  // accents
        .replace(/[^\w\s\-\,]/g,"")                      // ponctuations exotiques
        .replace(/\s+/g," ")                              // espaces multiples
        .trim();
    }
    function normNoSep(s){
      return norm(s).replace(/[\s,\-]+/g,"");             // sans espaces, virgules, tirets
    }
    
    /* ========= EX. A ‚Äì PLAN√àTES (corriger/v√©rifier/reset) ========= */
    function corrigerDeepA(showSolution=false){
      const get = id => document.getElementById(id);
      const expectEq = (id) => {
        const el = get(id);
        const expected = el.dataset.correct || "";
        // noms ‚Üí simple √©galit√© insensible casse/accents
        return norm(el.value) === norm(expected);
      };
      const expectListEq = (id) => {
        // tol√®re espaces/virgules/tirets : "Mercure, Mars, ..." etc.
        const el = get(id);
        const expected = el.dataset.correct || "";
        return normNoSep(el.value) === normNoSep(expected);
      };
    
      if(!showSolution) setTries('deep', state.deep.tries-1);
    
      let pts = 0;
      if (expectEq('pa1')) pts++;
      if (expectEq('pa2')) pts++;
      // phrase en toutes lettres ‚Äì on garde norm() (tol√®re majuscules/minuscules/accents)
      if (norm(get('pa3').value) === norm(get('pa3').dataset.correct)) pts++;
      if (expectListEq('pa4')) pts++;
      if (expectListEq('pa5')) pts++;
      if (expectEq('pa6')) pts++;
    
      // maj badges A
      byId('score-A').textContent = pts;
      byId('max-A').textContent = '6';
      byId('tries-A').textContent = state.deep.tries;
    
      // on r√©percute sur le score "deep" global (6 pts pour A)
      const deepSansA = state.deep.score - (state._lastA || 0);
      state._lastA = pts;
      setScore('deep', deepSansA + pts);
    
      const msg = byId('msg-A');
      if(showSolution){
        // Remplit les champs avec la solution officielle
        ['pa1','pa2','pa3','pa4','pa5','pa6'].forEach(id=>{
          const el = byId(id);
          if(el && el.dataset.correct) el.value = el.dataset.correct;
        });
        // Affiche le bloc de correction d√©taill√©e (masqu√© par CSS)
        const corr = byId('corr-exA'); if(corr) corr.style.display = 'block';
        msg.textContent = 'Correction affich√©e.';
      }else{
        msg.textContent = `R√©sultat A : ${pts} / 6. ${state.deep.tries>0?`Essais restants : ${state.deep.tries}.`:`Plus d‚Äôessai pour A.`}`;
      }
    }
    function resetDeepA(){
      ['pa1','pa2','pa3','pa4','pa5','pa6'].forEach(id=>{ const el=byId(id); if(el) el.value=''; });
      if(byId('corr-exA')) byId('corr-exA').style.display='none';
      // on retire la contribution A du score deep
      const deepSansA = state.deep.score - (state._lastA || 0);
      state._lastA = 0;
      setScore('deep', deepSansA);
      byId('msg-A').textContent='';
      byId('tries-A').textContent = (state.deep.tries = MAX_TRIES);
    }
    
    /* ========= EX. 1 ‚Äì M√âLANGE DES √âTIQUETTES (ANTI-ALIGNE) ========= */
    function shuffleChildren(container){
      const nodes = Array.from(container.children);
      for(let i = nodes.length - 1; i > 0; i--){
        const j = Math.floor(Math.random() * (i + 1));
        container.insertBefore(nodes[j], nodes[i]);
        [nodes[i], nodes[j]] = [nodes[j], nodes[i]];
      }
    }
    function initEx1Shuffle(){
      const left = byId('ex1-left');
      if(left) shuffleChildren(left);
    }
    // rem√©lange aussi au reset
    const _reinitEx1_org = reinitialiserEx1;
    reinitialiserEx1 = function(){
      _reinitEx1_org();
      initEx1Shuffle();
    };
    // et au premier chargement
    window.addEventListener('DOMContentLoaded', initEx1Shuffle);
    
    /* ========= EX. 1 ‚Äì ¬´ Correction ¬ª visible (auto-placement) =========
       (ta fonction corrigerEx1 existante va bien, on ne change que le message) */
    const _corrEx1_org = corrigerEx1;
    corrigerEx1 = function(showSolution=false){
      _corrEx1_org(showSolution);
      if(showSolution){
        // petit plus : on met aussi le focus sur le message pour accessibilit√©
        const msg=byId('msg-ex1'); if(msg){ msg.setAttribute('tabindex','-1'); msg.focus?.(); }
      }
    };
    
    /* ========= EX. 2 & EX. 3 ‚Äì boutons ¬´ Correction ¬ª =========
       (tes fonctions existent d√©j√† ; on force l‚Äôaffichage lisible) */
    const _corrEx2_org = corrigerEx2;
    corrigerEx2 = function(showSolution=false){
      _corrEx2_org(showSolution);
      if(showSolution){ byId('msg-ex2').textContent = 'Correction affich√©e pour chaque champ.'; }
    };
    const _corrEx3_org = corrigerEx3;
    corrigerEx3 = function(showSolution=false){
      _corrEx3_org(showSolution);
      if(showSolution){ byId('msg-ex3').textContent = 'Correction affich√©e.'; }
    };
    
    /* ========= EX. G/H ‚Äì CORRECTION RAPIDE (si tu ajoutes data-correct) =========
       Exemple d‚Äôusage (optionnel) :
       <input id="pg1" data-correct="2,6"> etc.
    */
    function corrigerDeepFGH(showSolution=false){
      // Exemple minimal si tu renseignes data-correct sur les champs G/H
      const ids = ['pg1','pg2','pg3','pg4','ph1','ph2','ph3'].filter(id=>byId(id));
      let ok = 0;
      ids.forEach(id=>{
        const el = byId(id);
        if(!el) return;
        const exp = el.dataset.correct;
        if(!exp) return;
        // tol√®re virgule/point pour d√©cimaux
        const v = (el.value||'').replace(',', '.').trim();
        const e = exp.replace(',', '.').trim();
        if(v === e) ok++;
        if(showSolution) el.value = exp;
      });
      // 7 champs max ‚Üí points √† ton go√ªt (ici 1 pt/champ)
      const prev = state.deep.score - (state._lastFGH || 0);
      state._lastFGH = ok;
      setScore('deep', prev + ok);
      if(showSolution) { /* affiche un √©ventuel bloc correction si pr√©sent */ }
    }
    function resetDeepFGH(){
      ['pg1','pg2','pg3','pg4','ph1','ph2','ph3'].forEach(id=>{ const el=byId(id); if(el) el.value=''; });
      const prev = state.deep.score - (state._lastFGH || 0);
      state._lastFGH = 0;
      setScore('deep', prev);
    }
    
    /* ========= TOGGLE g√©n√©rique pour D√âFIS (corrig√©s masqu√©s) ========= */
    function toggleCorrection(id){
      const el = document.getElementById(id);
      if(!el) return;
      el.style.display = (getComputedStyle(el).display === 'none') ? 'block' : 'none';
    }





  
    // =========================
    // EX1 ‚Äì Drag & Drop
    // =========================
    let dndCurrent=null;
    qSelAll('#ex1-left .chip').forEach(chip=>{ chip.addEventListener('dragstart',e=>{ dndCurrent=chip; chip.classList.add('dragging'); e.dataTransfer.setData('text/plain', chip.dataset.id); }); chip.addEventListener('dragend',()=>{ dndCurrent=null; chip.classList.remove('dragging'); }); });
    qSelAll('#ex1-right .dropzone').forEach(zone=>{ zone.addEventListener('dragover',e=>e.preventDefault()); zone.addEventListener('drop',e=>{ e.preventDefault(); if(!dndCurrent) return; const slot=zone.querySelector('.slot'); if(!slot) return; slot.innerHTML=''; slot.appendChild(dndCurrent); }); });
    function corrigerEx1(showSolution=false){ if(!showSolution) setTries('ex1', state.ex1.tries-1); let pts=0; qSelAll('#ex1-right .dropzone').forEach(zone=>{ const expect=zone.dataset.accept; const chip=qSel('.slot .chip', zone); if(!chip) return; if(chip.dataset.id===expect) pts+=1; }); setScore('ex1', pts); const msg=byId('msg-ex1'); if(showSolution){ const left=byId('ex1-left'); qSelAll('#ex1-right .dropzone .slot .chip').forEach(c=>left.appendChild(c)); qSelAll('#ex1-right .dropzone').forEach(zone=>{ const id=zone.dataset.accept; const chip=qSel(`#ex1-left .chip[data-id="${id}"]`); const slot=zone.querySelector('.slot'); if(chip&&slot){ slot.innerHTML=''; slot.appendChild(chip);} }); msg.textContent='Correction affich√©e.'; } else { msg.textContent=`R√©sultat : ${pts} / 6. ${state.ex1.tries>0?`Essais restants : ${state.ex1.tries}.`:'Plus d\'essai pour cet exercice.'}`; } }
    function reinitialiserEx1(){ setTries('ex1',MAX_TRIES); setScore('ex1',0); byId('msg-ex1').textContent=''; const left=byId('ex1-left'); qSelAll('#ex1-right .dropzone .slot .chip').forEach(c=>left.appendChild(c)); }

    // =========================
    // EX2 ‚Äì Saisies rapides
    // =========================
    function corrigerEx2(showSolution=false){ if(!showSolution) setTries('ex2', state.ex2.tries-1); let pts=0;
      const ok21 = normNoSep(byId('q21').value) === normNoSep('quinze-mille-quatre-vingt-quatre'); if(ok21) pts+=1;
      const ok22 = formatNumberFr(byId('q22').value) === '99 909'; if(ok22) pts+=1;
      const ok23 = (byId('q23').value||'').trim()==='5'; if(ok23) pts+=1;
      const ok24 = formatNumberFr(byId('q24').value) === '1 263'; if(ok24) pts+=1;
      const ok25 = normNoSep(byId('q25').value) === normNoSep('trois-mille-six-cent-vingt'); if(ok25) pts+=1;
      const ok26 = formatNumberFr(byId('q26').value) === '3 700 000'; if(ok26) pts+=1;
      setScore('ex2', pts); const msg=byId('msg-ex2'); if(showSolution){ byId('q21').value='quinze mille quatre-vingt-quatre'; byId('q22').value='99 909'; byId('q23').value='5'; byId('q24').value='1 263'; byId('q25').value='trois mille six cent vingt'; byId('q26').value='3 700 000'; msg.textContent='Correction affich√©e pour chaque champ.'; } else { msg.textContent=`R√©sultat : ${pts} / 6. ${state.ex2.tries>0?`Essais restants : ${state.ex2.tries}.`:'Plus d\'essai pour cet exercice.'}`; } }
    function reinitialiserEx2(){ setTries('ex2',MAX_TRIES); setScore('ex2',0); byId('msg-ex2').textContent=''; ['q21','q22','q23','q24','q25','q26'].forEach(id=>byId(id).value=''); }

    // =========================
    // EX3 ‚Äì D√©cimaux & rep√©rage
    // =========================
    function corrigerEx3(showSolution=false){ if(!showSolution) setTries('ex3', state.ex3.tries-1); let pts=0; const ok31=(byId('q31').value||'').trim()==='10'; if(ok31) pts+=1; const ok32=norm(byId('q32').value)===norm('origine'); if(ok32) pts+=1; const ok33=norm(byId('q33').value)===norm('abscisse'); if(ok33) pts+=1; const v34=(byId('q34').value||'').replace(',', '.').trim(); const ok34=(v34==='0.5'||v34==='0,5'); if(ok34) pts+=1; setScore('ex3', pts); const msg=byId('msg-ex3'); if(showSolution){ byId('q31').value='10'; byId('q32').value='origine'; byId('q33').value='abscisse'; byId('q34').value='0,5'; msg.textContent='Correction affich√©e.'; } else { msg.textContent=`R√©sultat : ${pts} / 4. ${state.ex3.tries>0?`Essais restants : ${state.ex3.tries}.`:'Plus d\'essai pour cet exercice.'}`; } }
    function reinitialiserEx3(){ setTries('ex3',MAX_TRIES); setScore('ex3',0); byId('msg-ex3').textContent=''; ['q31','q32','q33','q34'].forEach(id=>byId(id).value=''); }


    // =========================
    // Export JSON / CSV / PDF / HTML
    // =========================
    function collectData(){ const now=new Date(); const identite={nom:byId('eleveNom').value.trim(), prenom:byId('elevePrenom').value.trim(), classe:byId('eleveClasse').value.trim()}; const ex1pairs=qSelAll('#ex1-right .dropzone').map(z=>{ const chip=qSel('.slot .chip', z); return{cible:qSel('.target-label', z)?.textContent||'', id:chip?.dataset.id||null, valeur:chip?.textContent||null}; }); const ex2rep={ q21:byId('q21').value, q22:byId('q22').value, q23:byId('q23').value, q24:byId('q24').value, q25:byId('q25').value, q26:byId('q26').value }; const ex3rep={ q31:byId('q31').value, q32:byId('q32').value, q33:byId('q33').value, q34:byId('q34').value }; const deep={ a1:byId('deep_a1')?.value||'', a2:byId('deep_a2')?.value||'', a3:byId('deep_a3')?.value||'', a4:byId('deep_a4')?.value||'', b1p:byId('deep_b1_prec')?.value||'', b1s:byId('deep_b1_suit')?.value||'', b2p:byId('deep_b2_prec')?.value||'', b2s:byId('deep_b2_suit')?.value||'' }; const scores={ ex1:state.ex1.score, ex2:state.ex2.score, ex3:state.ex3.score, deep:state.deep.score, total:state.ex1.score+state.ex2.score+state.ex3.score+state.deep.score, max:state.ex1.max+state.ex2.max+state.ex3.max+state.deep.max }; const temps=byId('timer').textContent; const essais_restants={ ex1:state.ex1.tries, ex2:state.ex2.tries, ex3:state.ex3.tries, deep:state.deep.tries }; return { horodatage:now.toISOString(), identite, temps, essais_restants, scores, ex1pairs, ex2rep, ex3rep, deep }; }
    function download(filename, content, mime='application/octet-stream'){ const blob=new Blob([content],{type:mime}); const url=URL.createObjectURL(blob); const a=document.createElement('a'); a.href=url; a.download=filename; document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url); showToast('Fichier enregistr√© sur votre ordinateur.'); }
    function exportJSON(){ const d=collectData(); const id=`${(d.identite.nom||'SansNom').toUpperCase()}_${(d.identite.prenom||'SansPrenom')}_${(d.identite.classe||'SansClasse')}`; download(`resultats_numeration_6e_${id}.json`, JSON.stringify(d,null,2), 'application/json'); }
    function exportCSV(){ const d=collectData(); const rows=[]; rows.push(['nom','prenom','classe','temps','score_total','score_max'].join(';')); rows.push([d.identite.nom,d.identite.prenom,d.identite.classe,d.temps,d.scores.total,d.scores.max].join(';')); rows.push([]); rows.push(['exercice','cle','valeur'].join(';')); d.ex1pairs.forEach((p,i)=>rows.push(['ex1',`cible_${i+1}`,`${p.valeur||''} -> ${p.cible}`].join(';'))); Object.entries(d.ex2rep).forEach(([k,v])=>rows.push(['ex2',k,v].join(';'))); Object.entries(d.ex3rep).forEach(([k,v])=>rows.push(['ex3',k,v].join(';'))); Object.entries(d.deep).forEach(([k,v])=>rows.push(['deep',k,v].join(';'))); download(`resultats_numeration_6e_${(d.identite.nom||'SansNom').toUpperCase()}_${(d.identite.prenom||'SansPrenom')}_${(d.identite.classe||'SansClasse')}.csv`, rows.map(r=>Array.isArray(r)?r.join(';'):r).join('\n'), 'text/csv'); }
    function buildPrintSummary(data, withAnswers=true){ const d=data||collectData(); byId('printMeta').innerHTML=`<p><strong>Nom :</strong> ${d.identite.nom||''} &nbsp; <strong>Pr√©nom :</strong> ${d.identite.prenom||''} &nbsp; <strong>Classe :</strong> ${d.identite.classe||''}<br><strong>Date :</strong> ${new Date(d.horodatage).toLocaleString()}</p>`; byId('pTotal').textContent=d.scores.total; byId('pMax').textContent=d.scores.max; byId('pTemps').textContent=d.temps; const tb1=byId('pEx1').querySelector('tbody'); tb1.innerHTML=''; d.ex1pairs.forEach(p=>{ const tr=document.createElement('tr'); tr.innerHTML=`<td>${p.cible}</td><td>${withAnswers?(p.valeur||''):''}</td>`; tb1.appendChild(tr); }); const tb2=byId('pEx2').querySelector('tbody'); tb2.innerHTML=''; Object.entries(d.ex2rep).forEach(([k,v])=>{ const tr=document.createElement('tr'); tr.innerHTML=`<td>${k.toUpperCase()}</td><td>${withAnswers?(v||''):''}</td>`; tb2.appendChild(tr); }); const tb3=byId('pEx3').querySelector('tbody'); tb3.innerHTML=''; Object.entries(d.ex3rep).forEach(([k,v])=>{ const tr=document.createElement('tr'); tr.innerHTML=`<td>${k.toUpperCase()}</td><td>${withAnswers?(v||''):''}</td>`; tb3.appendChild(tr); }); const tbd=byId('pDeep').querySelector('tbody'); tbd.innerHTML=''; Object.entries(d.deep||{}).forEach(([k,v])=>{ const tr=document.createElement('tr'); tr.innerHTML=`<td>${k}</td><td>${withAnswers?(v||''):''}</td>`; tbd.appendChild(tr); }); }
    function exportPDF(withAnswers=true){ const d=collectData(); buildPrintSummary(d,withAnswers); const ps=byId('printSummary'); ps.style.display='block'; window.print(); setTimeout(()=>{ ps.style.display='none'; }, 300); }
    function clearAnswersInPlace(){ const left=byId('ex1-left'); qSelAll('#ex1-right .dropzone .slot .chip').forEach(c=>left.appendChild(c)); ['q21','q22','q23','q24','q25','q26','q31','q32','q33','q34','deep_a1','deep_a2','deep_a3','deep_a4','deep_b1_prec','deep_b1_suit','deep_b2_prec','deep_b2_suit'].forEach(id=>{ const el=byId(id); if(el) el.value=''; }); }
    function exportPageHTML(withAnswers=true){ if(withAnswers){ const html='<!DOCTYPE html>\n'+document.documentElement.outerHTML; download('C6_numeration_decimaux_avec_reponses.html', html, 'text/html'); } else { clearAnswersInPlace(); const html='<!DOCTYPE html>\n'+document.documentElement.outerHTML; download('C6_numeration_decimaux_sans_reponses.html', html, 'text/html'); } }

    // =========================
    // R√©initialisation globale
    // =========================
function resetAll(){
  resetTimer();
  ['eleveNom','elevePrenom','eleveClasse'].forEach(id=>byId(id).value='');

  reinitialiserEx1();
  reinitialiserEx2();
  reinitialiserEx3();

  // Approfondissement : reset A‚ÄìE + F‚ÄìH
  resetDeepA();
  resetDeepB();
  resetDeepC();
  resetDeepD();
  resetDeepE();
  resetDeepFGH();

  // R√©initialise les essais et le score globaux d'approfondissement
  setTries('deep', MAX_TRIES);
  state._lastA = state._lastB = state._lastC = state._lastD = state._lastE = state._lastFGH = 0;
  setScore('deep', 0);

  // Cache les blocs de correction si affich√©s
  ['corr-exA','corr-exB','corr-exC','corr-exD','corr-exE','corr-exGH'].forEach(id=>{
    const el = byId(id); if(el) el.style.display = 'none';
  });
}
 
  /* ============ Outils locaux ============ */
function _asInt(v){ return String(v||'').replace(/\s/g,'').trim(); }
function _asFr(v){ // formate "nombre" avec espaces (si complet)
  const s = String(v||'').replace(/[^\d\-]/g,'');
  if(!s) return '';
  return s.replace(/\B(?=(?:\d{3})+(?!\d))/g,' ');
}
function _eqTxt(a,b){ return normNoSep(a)===normNoSep(b); }

/* ============ EX. B ============ */
function corrigerDeepB(showSolution=false){
  if(!showSolution) setTries('deep', state.deep.tries-1);
  let pts = 0;

  // Champs
  const b1 = byId('pb1'), b2 = byId('pb2'), b3 = byId('pb3'),
        b4 = byId('pb4'), b5 = byId('pb5'), b6 = byId('pb6');

  // R√©ponses attendues
  const R1 = 'dix millions deux cent cinquante-quatre mille neuf cent quatre-vingt-cinq';
  const R2 = 'deux cent mille cinq cent quatre';
  const R3 = '5 698 541';
  const R4 = '96 584 127';
  const R5 = 'cinq cent vingt-trois millions six cent cinquante-huit mille deux';
  const R6 = 'quinze milliards quatre cent quatre-vingts millions mille sept cent quarante';

  if(_eqTxt(b1.value, R1)) pts++;
  if(_eqTxt(b2.value, R2)) pts++;
  if(_asFr(b3.value) === R3) pts++;
  if(_asFr(b4.value) === R4) pts++;
  if(_eqTxt(b5.value, R5)) pts++;
  if(_eqTxt(b6.value, R6)) pts++;

  // Score deep (on cumule mais plafonn√© √† max)
  const prev = state.deep.score - (state._lastB || 0);
  state._lastB = pts;
  setScore('deep', prev + pts);

  if(showSolution){
    b1.value = R1; b2.value = R2; b3.value = R3; b4.value = R4; b5.value = R5; b6.value = R6;
    const corr = byId('corr-exB'); if(corr) corr.style.display = 'block';
  }
}
function resetDeepB(){
  ['pb1','pb2','pb3','pb4','pb5','pb6'].forEach(id=>{ const el=byId(id); if(el) el.value=''; });
  const prev = state.deep.score - (state._lastB || 0);
  state._lastB = 0; setScore('deep', prev);
  const corr = byId('corr-exB'); if(corr) corr.style.display = 'none';
}

/* ============ EX. C ============ */
function corrigerDeepC(showSolution=false){
  if(!showSolution) setTries('deep', state.deep.tries-1);
  let pts = 0;

  const c1 = byId('pc1'), c2 = byId('pc2'), c3 = byId('pc3'),
        c4 = byId('pc4'), c5 = byId('pc5'), c6 = byId('pc6');

  const R1='4', R2='1', R3='82', R4='5', R5='7', R6='44 248';

  if(_asInt(c1.value)==='4') pts++;
  if(_asInt(c2.value)==='1') pts++;
  if(_asInt(c3.value)==='82') pts++;
  if(_asInt(c4.value)==='5') pts++;
  if(_asInt(c5.value)==='7') pts++;
  if(_asInt(c6.value)==='44248') pts++; // on tol√®re sans espace

  const prev = state.deep.score - (state._lastC || 0);
  state._lastC = pts;
  setScore('deep', prev + pts);

  if(showSolution){
    c1.value=R1; c2.value=R2; c3.value=R3; c4.value=R4; c5.value=R5; c6.value=R6;
    const corr = byId('corr-exC'); if(corr) corr.style.display = 'block';
  }
}
function resetDeepC(){
  ['pc1','pc2','pc3','pc4','pc5','pc6'].forEach(id=>{ const el=byId(id); if(el) el.value=''; });
  const prev = state.deep.score - (state._lastC || 0);
  state._lastC = 0; setScore('deep', prev);
  const corr = byId('corr-exC'); if(corr) corr.style.display = 'none';
}

/* ============ EX. D ============ */
function corrigerDeepD(showSolution=false){
  if(!showSolution) setTries('deep', state.deep.tries-1);
  let pts = 0;

  const d = {
    pd1p:'853 088', pd1s:'853 090',
    pd2d:'1 000',  pd2s:'1 001',
    pd3p:'950 652', pd3d:'950 653',
    pd4p:'900 098', pd4s:'900 100',
    pd5p:'800 998', pd5d:'800 999',
    pd6p:'69 998',  pd6s:'70 000'
  };

  Object.entries(d).forEach(([id,sol])=>{
    const ok = _asFr(byId(id).value) === sol;
    if(ok) pts += 0.5; // 12 champs ‚Üí 6 points
    if(showSolution) byId(id).value = sol;
  });

  const prev = state.deep.score - (state._lastD || 0);
  state._lastD = pts;
  setScore('deep', prev + pts);

  if(showSolution){
    const corr = byId('corr-exD'); if(corr) corr.style.display = 'block';
  }
}
function resetDeepD(){
  ['pd1p','pd1s','pd2d','pd2s','pd3p','pd3d','pd4p','pd4s',
   'pd5p','pd5d','pd6p','pd6s'].forEach(id=>{ const el=byId(id); if(el) el.value=''; });
  const prev = state.deep.score - (state._lastD || 0);
  state._lastD = 0; setScore('deep', prev);
  const corr = byId('corr-exD'); if(corr) corr.style.display = 'none';
}

/* ============ EX. E ============ */
function corrigerDeepE(showSolution=false){
  if(!showSolution) setTries('deep', state.deep.tries-1);
  let pts = 0;

  const RF='205', RT='124', RN='76', RA='25';
  const Q1='23', Q2='205', Q3='football';

  const f = byId('peF'), t = byId('peT'), n = byId('peN'), a = byId('peA');
  const q1 = byId('peQ1'), q2 = byId('peQ2'), q3 = byId('peQ3');

  if(_asInt(f.value)==='205') pts++;
  if(_asInt(t.value)==='124') pts++;
  if(_asInt(n.value)==='76')  pts++;
  if(_asInt(a.value)==='25')  pts++;

  if(_asInt(q1.value)==='23') pts++;
  if(_asInt(q2.value)==='205') pts++;
  if(norm(q3.value)==='football') pts++;

  // 7 points ici ‚Üí on ram√®nerait √† 6 (pond√©ration) : on cappe √† 6
  if(pts>6) pts = 6;

  const prev = state.deep.score - (state._lastE || 0);
  state._lastE = pts;
  setScore('deep', prev + pts);

  if(showSolution){
    f.value=RF; t.value=RT; n.value=RN; a.value=RA;
    q1.value=Q1; q2.value=Q2; q3.value='football';
    const corr = byId('corr-exE'); if(corr) corr.style.display = 'block';
  }
}
function resetDeepE(){
  ['peF','peT','peN','peA','peQ1','peQ2','peQ3'].forEach(id=>{ const el=byId(id); if(el) el.value=''; });
  const prev = state.deep.score - (state._lastE || 0);
  state._lastE = 0; setScore('deep', prev);
  const corr = byId('corr-exE'); if(corr) corr.style.display = 'none';
}

    /* ============ EX. G‚ÄìH : afficher le bloc m√©thode + (optionnel) auto-remplir via data-correct ============ */
    /* Tu as d√©j√† corrigerDeepFGH / resetDeepFGH dans ton script. On compl√®te juste l‚Äôaffichage du bloc. */
    (function enhanceGH(){
      const _orig = corrigerDeepFGH;
      if(typeof _orig === 'function'){
        corrigerDeepFGH = function(showSolution=false){
          _orig(showSolution);
          if(showSolution){
            const corr = byId('corr-exGH'); if(corr) corr.style.display = 'block';
          }
        };
      }
    })();


  
    // =========================
    // √âcouteurs
    // =========================
    byId('btnStart').addEventListener('click', startTimer);
    byId('btnStop').addEventListener('click', stopTimer);
    byId('btnReset').addEventListener('click', resetAll);
    byId('btnExportJSON').addEventListener('click', exportJSON);
    byId('btnExportCSV').addEventListener('click', exportCSV);
    byId('btnExportPDFWith').addEventListener('click', ()=>exportPDF(true));
    byId('btnExportPDFNo').addEventListener('click',   ()=>exportPDF(false));
    byId('btnSaveHTMLWith').addEventListener('click',  ()=>exportPageHTML(true));
    byId('btnSaveHTMLNo').addEventListener('click',    ()=>exportPageHTML(false));

    // Init
    window.addEventListener('DOMContentLoaded', ()=>{ updateTotal(); });

</script>
                
</body>
</html>
